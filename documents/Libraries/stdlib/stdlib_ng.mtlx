<?xml version="1.0" encoding="UTF-8"?>
<!--
  TM & (c) 2018 Lucasfilm Entertainment Company Ltd. and Lucasfilm Ltd.
  All rights reserved.  See LICENSE.txt for license.

  Nodegraph implementations for Supplemental Nodes included in the MaterialX specification.
-->

<materialx version="1.36">

  <!-- ======================================================================== -->
  <!-- Supplemental Texture nodes                                               -->
  <!-- ======================================================================== -->

  <!--
    <tiledimage>
  -->
  <nodegraph name="NG_tiledimage_float" nodedef="ND_tiledimage_float">
    <divide name="N_div_float" type="vector2">
      <input name="in1" type="vector2" interfacename="texcoord"/>
      <input name="in2" type="vector2" interfacename="uvtiling"/>
    </divide>
    <subtract name="N_sub_float" type="vector2">
      <input name="in1" type="vector2" nodename="N_div_float"/>
      <input name="in2" type="vector2" interfacename="uvoffset"/>
    </subtract>
    <image name="N_img_float" type="float">
      <parameter name="file" type="filename" interfacename="file"/>
      <parameter name="default" type="float" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_sub_float"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <output name="N_out_float" type="float" nodename="N_img_float"/>
  </nodegraph>

  <nodegraph name="NG_tiledimage_color2" nodedef="ND_tiledimage_color2">
    <divide name="N_div_color2" type="vector2">
      <input name="in1" type="vector2" interfacename="texcoord"/>
      <input name="in2" type="vector2" interfacename="uvtiling"/>
    </divide>
    <subtract name="N_sub_color2" type="vector2">
      <input name="in1" type="vector2" nodename="N_div_color2"/>
      <input name="in2" type="vector2" interfacename="uvoffset"/>
    </subtract>
    <image name="N_img_color2" type="color2">
      <parameter name="file" type="filename" interfacename="file"/>
      <parameter name="default" type="color2" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_sub_color2"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <output name="N_out_color2" type="color2" nodename="N_img_color2"/>
  </nodegraph>

  <nodegraph name="NG_tiledimage_color3" nodedef="ND_tiledimage_color3">
    <divide name="N_div_color3" type="vector2">
      <input name="in1" type="vector2" interfacename="texcoord"/>
      <input name="in2" type="vector2" interfacename="uvtiling"/>
    </divide>
    <subtract name="N_sub_color3" type="vector2">
      <input name="in1" type="vector2" nodename="N_div_color3"/>
      <input name="in2" type="vector2" interfacename="uvoffset"/>
    </subtract>
    <image name="N_img_color3" type="color3">
      <parameter name="file" type="filename" interfacename="file"/>
      <parameter name="default" type="color3" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_sub_color3"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <output name="N_out_color3" type="color3" nodename="N_img_color3"/>
  </nodegraph>

  <nodegraph name="NG_tiledimage_color4" nodedef="ND_tiledimage_color4">
    <divide name="N_div_color4" type="vector2">
      <input name="in1" type="vector2" interfacename="texcoord"/>
      <input name="in2" type="vector2" interfacename="uvtiling"/>
    </divide>
    <subtract name="N_sub_color4" type="vector2">
      <input name="in1" type="vector2" nodename="N_div_color4"/>
      <input name="in2" type="vector2" interfacename="uvoffset"/>
    </subtract>
    <image name="N_img_color4" type="color4">
      <parameter name="file" type="filename" interfacename="file"/>
      <parameter name="default" type="color4" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_sub_color4"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <output name="N_out_color4" type="color4" nodename="N_img_color4"/>
  </nodegraph>

  <nodegraph name="NG_tiledimage_vector2" nodedef="ND_tiledimage_vector2">
    <divide name="N_div_vector2" type="vector2">
      <input name="in1" type="vector2" interfacename="texcoord"/>
      <input name="in2" type="vector2" interfacename="uvtiling"/>
    </divide>
    <subtract name="N_sub_vector2" type="vector2">
      <input name="in1" type="vector2" nodename="N_div_vector2"/>
      <input name="in2" type="vector2" interfacename="uvoffset"/>
    </subtract>
    <image name="N_img_vector2" type="vector2">
      <parameter name="file" type="filename" interfacename="file"/>
      <parameter name="default" type="vector2" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_sub_vector2"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <output name="N_out_vector2" type="vector2" nodename="N_img_vector2"/>
  </nodegraph>

  <nodegraph name="NG_tiledimage_vector3" nodedef="ND_tiledimage_vector3">
    <divide name="N_div_vector3" type="vector2">
      <input name="in1" type="vector2" interfacename="texcoord"/>
      <input name="in2" type="vector2" interfacename="uvtiling"/>
    </divide>
    <subtract name="N_sub_vector3" type="vector2">
      <input name="in1" type="vector2" nodename="N_div_vector3"/>
      <input name="in2" type="vector2" interfacename="uvoffset"/>
    </subtract>
    <image name="N_img_vector3" type="vector3">
      <parameter name="file" type="filename" interfacename="file"/>
      <parameter name="default" type="vector3" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_sub_vector3"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <output name="N_out_vector3" type="vector3" nodename="N_img_vector3"/>
  </nodegraph>

  <nodegraph name="NG_tiledimage_vector4" nodedef="ND_tiledimage_vector4">
    <divide name="N_div_vector4" type="vector2">
      <input name="in1" type="vector2" interfacename="texcoord"/>
      <input name="in2" type="vector2" interfacename="uvtiling"/>
    </divide>
    <subtract name="N_sub_vector4" type="vector2">
      <input name="in1" type="vector2" nodename="N_div_vector4"/>
      <input name="in2" type="vector2" interfacename="uvoffset"/>
    </subtract>
    <image name="N_img_vector4" type="vector4">
      <parameter name="file" type="filename" interfacename="file"/>
      <parameter name="default" type="vector4" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_sub_vector4"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <output name="N_out_vector4" type="vector4" nodename="N_img_vector4"/>
  </nodegraph>


  <!--
    <triplanarprojection>
    Samples data from three images, or layers within multi-layer images, and projects a tiled
    representation of the images along each of the three respective coordinate axes, computing
    a weighted blend of the three samples using the geometric normal.
  -->
  <nodegraph name="NG_triplanarprojection_float" nodedef="ND_triplanarprojection_float">
    <extract name="N_extX_float" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="0"/>
    </extract>
    <extract name="N_extY_float" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="1"/>
    </extract>
    <extract name="N_extZ_float" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="2"/>
    </extract>
    <combine name="N_vecYZ_float" type="vector2">
      <input name="in1" type="float" nodename="N_extY_float"/>
      <input name="in2" type="float" nodename="N_extZ_float"/>
    </combine>
    <combine name="N_vecXZ_float" type="vector2">
      <input name="in1" type="float" nodename="N_extX_float"/>
      <input name="in2" type="float" nodename="N_extZ_float"/>
    </combine>
    <combine name="N_vecXY_float" type="vector2">
      <input name="in1" type="float" nodename="N_extX_float"/>
      <input name="in2" type="float" nodename="N_extY_float"/>
    </combine>
    <image name="N_imgX_float" type="float">
      <parameter name="file" type="filename" interfacename="filex"/>
      <parameter name="layer" type="string" interfacename="layerx"/>
      <parameter name="default" type="float" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecYZ_float"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <image name="N_imgY_float" type="float">
      <parameter name="file" type="filename" interfacename="filey"/>
      <parameter name="layer" type="string" interfacename="layery"/>
      <parameter name="default" type="float" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecXZ_float"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <image name="N_imgZ_float" type="float">
      <parameter name="file" type="filename" interfacename="filez"/>
      <parameter name="layer" type="string" interfacename="layerz"/>
      <parameter name="default" type="float" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecXY_float"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <normalize name="N_norm_float" type="vector3">
      <input name="in" type="vector3" interfacename="normal"/>
    </normalize>
    <dotproduct name="N_dotX_float" type="float">
      <input name="in1" type="vector3" nodename="N_norm_float"/>
      <input name="in2" type="vector3" value="1.0, 0.0, 0.0"/>
    </dotproduct>
    <dotproduct name="N_dotY_float" type="float">
      <input name="in1" type="vector3" nodename="N_norm_float"/>
      <input name="in2" type="vector3" value="0.0, 1.0, 0.0"/>
    </dotproduct>
    <dotproduct name="N_dotZ_float" type="float">
      <input name="in1" type="vector3" nodename="N_norm_float"/>
      <input name="in2" type="vector3" value="0.0, 0.0, 1.0"/>
    </dotproduct>
    <absval name="N_blendX_float" type="float">
      <input name="in" type="float" nodename="N_dotX_float"/>
    </absval>
    <absval name="N_blendY_float" type="float">
      <input name="in" type="float" nodename="N_dotY_float"/>
    </absval>
    <absval name="N_blendZ_float" type="float">
      <input name="in" type="float" nodename="N_dotZ_float"/>
    </absval>
    <multiply name="N_nX_float" type="float">
      <input name="in1" type="float" nodename="N_imgX_float"/>
      <input name="in2" type="float" nodename="N_blendX_float"/>
    </multiply>
    <multiply name="N_nY_float" type="float">
      <input name="in1" type="float" nodename="N_imgY_float"/>
      <input name="in2" type="float" nodename="N_blendY_float"/>
    </multiply>
    <multiply name="N_nZ_float" type="float">
      <input name="in1" type="float" nodename="N_imgZ_float"/>
      <input name="in2" type="float" nodename="N_blendZ_float"/>
    </multiply>
    <add name="N_add1_float" type="float">
      <input name="in1" type="float" nodename="N_nX_float"/>
      <input name="in2" type="float" nodename="N_nY_float"/>
    </add>
    <add name="N_add2_float" type="float">
      <input name="in1" type="float" nodename="N_add1_float"/>
      <input name="in2" type="float" nodename="N_nZ_float"/>
    </add>
    <output name="N_out_float" type="float" nodename="N_add2_float"/>
  </nodegraph>

  <nodegraph name="NG_triplanarprojection_color2" nodedef="ND_triplanarprojection_color2">
    <extract name="N_extX_color2" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="0"/>
    </extract>
    <extract name="N_extY_color2" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="1"/>
    </extract>
    <extract name="N_extZ_color2" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="2"/>
    </extract>
    <combine name="N_vecYZ_color2" type="vector2">
      <input name="in1" type="float" nodename="N_extY_color2"/>
      <input name="in2" type="float" nodename="N_extZ_color2"/>
    </combine>
    <combine name="N_vecXZ_color2" type="vector2">
      <input name="in1" type="float" nodename="N_extX_color2"/>
      <input name="in2" type="float" nodename="N_extZ_color2"/>
    </combine>
    <combine name="N_vecXY_color2" type="vector2">
      <input name="in1" type="float" nodename="N_extX_color2"/>
      <input name="in2" type="float" nodename="N_extY_color2"/>
    </combine>
    <image name="N_imgX_color2" type="color2">
      <parameter name="file" type="filename" interfacename="filex"/>
      <parameter name="layer" type="string" interfacename="layerx"/>
      <parameter name="default" type="color2" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecYZ_color2"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <image name="N_imgY_color2" type="color2">
      <parameter name="file" type="filename" interfacename="filey"/>
      <parameter name="layer" type="string" interfacename="layery"/>
      <parameter name="default" type="color2" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecXZ_color2"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <image name="N_imgZ_color2" type="color2">
      <parameter name="file" type="filename" interfacename="filez"/>
      <parameter name="layer" type="string" interfacename="layerz"/>
      <parameter name="default" type="color2" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecXY_color2"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <normalize name="N_norm_color2" type="vector3">
      <input name="in" type="vector3" interfacename="normal"/>
    </normalize>
    <dotproduct name="N_dotX_color2" type="float">
      <input name="in1" type="vector3" nodename="N_norm_color2"/>
      <input name="in2" type="vector3" value="1.0, 0.0, 0.0"/>
    </dotproduct>
    <dotproduct name="N_dotY_color2" type="float">
      <input name="in1" type="vector3" nodename="N_norm_color2"/>
      <input name="in2" type="vector3" value="0.0, 1.0, 0.0"/>
    </dotproduct>
    <dotproduct name="N_dotZ_color2" type="float">
      <input name="in1" type="vector3" nodename="N_norm_color2"/>
      <input name="in2" type="vector3" value="0.0, 0.0, 1.0"/>
    </dotproduct>
    <absval name="N_blendX_color2" type="float">
      <input name="in" type="float" nodename="N_dotX_color2"/>
    </absval>
    <absval name="N_blendY_color2" type="float">
      <input name="in" type="float" nodename="N_dotY_color2"/>
    </absval>
    <absval name="N_blendZ_color2" type="float">
      <input name="in" type="float" nodename="N_dotZ_color2"/>
    </absval>
    <multiply name="N_nX_color2" type="color2">
      <input name="in1" type="color2" nodename="N_imgX_color2"/>
      <input name="in2" type="float" nodename="N_blendX_color2"/>
    </multiply>
    <multiply name="N_nY_color2" type="color2">
      <input name="in1" type="color2" nodename="N_imgY_color2"/>
      <input name="in2" type="float" nodename="N_blendY_color2"/>
    </multiply>
    <multiply name="N_nZ_color2" type="color2">
      <input name="in1" type="color2" nodename="N_imgZ_color2"/>
      <input name="in2" type="float" nodename="N_blendZ_color2"/>
    </multiply>
    <add name="N_add1_color2" type="color2">
      <input name="in1" type="color2" nodename="N_nX_color2"/>
      <input name="in2" type="color2" nodename="N_nY_color2"/>
    </add>
    <add name="N_add2_color2" type="color2">
      <input name="in1" type="color2" nodename="N_add1_color2"/>
      <input name="in2" type="color2" nodename="N_nZ_color2"/>
    </add>
    <output name="N_out_color2" type="color2" nodename="N_add2_color2"/>
  </nodegraph>

  <nodegraph name="NG_triplanarprojection_color3" nodedef="ND_triplanarprojection_color3">
    <extract name="N_extX_color3" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="0"/>
    </extract>
    <extract name="N_extY_color3" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="1"/>
    </extract>
    <extract name="N_extZ_color3" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="2"/>
    </extract>
    <combine name="N_vecYZ_color3" type="vector2">
      <input name="in1" type="float" nodename="N_extY_color3"/>
      <input name="in2" type="float" nodename="N_extZ_color3"/>
    </combine>
    <combine name="N_vecXZ_color3" type="vector2">
      <input name="in1" type="float" nodename="N_extX_color3"/>
      <input name="in2" type="float" nodename="N_extZ_color3"/>
    </combine>
    <combine name="N_vecXY_color3" type="vector2">
      <input name="in1" type="float" nodename="N_extX_color3"/>
      <input name="in2" type="float" nodename="N_extY_color3"/>
    </combine>
    <image name="N_imgX_color3" type="color3">
      <parameter name="file" type="filename" interfacename="filex"/>
      <parameter name="layer" type="string" interfacename="layerx"/>
      <parameter name="default" type="color3" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecYZ_color3"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <image name="N_imgY_color3" type="color3">
      <parameter name="file" type="filename" interfacename="filey"/>
      <parameter name="layer" type="string" interfacename="layery"/>
      <parameter name="default" type="color3" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecXZ_color3"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <image name="N_imgZ_color3" type="color3">
      <parameter name="file" type="filename" interfacename="filez"/>
      <parameter name="layer" type="string" interfacename="layerz"/>
      <parameter name="default" type="color3" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecXY_color3"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <normalize name="N_norm_color3" type="vector3">
      <input name="in" type="vector3" interfacename="normal"/>
    </normalize>
    <dotproduct name="N_dotX_color3" type="float">
      <input name="in1" type="vector3" nodename="N_norm_color3"/>
      <input name="in2" type="vector3" value="1.0, 0.0, 0.0"/>
    </dotproduct>
    <dotproduct name="N_dotY_color3" type="float">
      <input name="in1" type="vector3" nodename="N_norm_color3"/>
      <input name="in2" type="vector3" value="0.0, 1.0, 0.0"/>
    </dotproduct>
    <dotproduct name="N_dotZ_color3" type="float">
      <input name="in1" type="vector3" nodename="N_norm_color3"/>
      <input name="in2" type="vector3" value="0.0, 0.0, 1.0"/>
    </dotproduct>
    <absval name="N_blendX_color3" type="float">
      <input name="in" type="float" nodename="N_dotX_color3"/>
    </absval>
    <absval name="N_blendY_color3" type="float">
      <input name="in" type="float" nodename="N_dotY_color3"/>
    </absval>
    <absval name="N_blendZ_color3" type="float">
      <input name="in" type="float" nodename="N_dotZ_color3"/>
    </absval>
    <multiply name="N_nX_color3" type="color3">
      <input name="in1" type="color3" nodename="N_imgX_color3"/>
      <input name="in2" type="float" nodename="N_blendX_color3"/>
    </multiply>
    <multiply name="N_nY_color3" type="color3">
      <input name="in1" type="color3" nodename="N_imgY_color3"/>
      <input name="in2" type="float" nodename="N_blendY_color3"/>
    </multiply>
    <multiply name="N_nZ_color3" type="color3">
      <input name="in1" type="color3" nodename="N_imgZ_color3"/>
      <input name="in2" type="float" nodename="N_blendZ_color3"/>
    </multiply>
    <add name="N_add1_color3" type="color3">
      <input name="in1" type="color3" nodename="N_nX_color3"/>
      <input name="in2" type="color3" nodename="N_nY_color3"/>
    </add>
    <add name="N_add2_color3" type="color3">
      <input name="in1" type="color3" nodename="N_add1_color3"/>
      <input name="in2" type="color3" nodename="N_nZ_color3"/>
    </add>
    <output name="N_out_color3" type="color3" nodename="N_add2_color3"/>
  </nodegraph>

  <nodegraph name="NG_triplanarprojection_color4" nodedef="ND_triplanarprojection_color4">
    <extract name="N_extX_color4" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="0"/>
    </extract>
    <extract name="N_extY_color4" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="1"/>
    </extract>
    <extract name="N_extZ_color4" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="2"/>
    </extract>
    <combine name="N_vecYZ_color4" type="vector2">
      <input name="in1" type="float" nodename="N_extY_color4"/>
      <input name="in2" type="float" nodename="N_extZ_color4"/>
    </combine>
    <combine name="N_vecXZ_color4" type="vector2">
      <input name="in1" type="float" nodename="N_extX_color4"/>
      <input name="in2" type="float" nodename="N_extZ_color4"/>
    </combine>
    <combine name="N_vecXY_color4" type="vector2">
      <input name="in1" type="float" nodename="N_extX_color4"/>
      <input name="in2" type="float" nodename="N_extY_color4"/>
    </combine>
    <image name="N_imgX_color4" type="color4">
      <parameter name="file" type="filename" interfacename="filex"/>
      <parameter name="layer" type="string" interfacename="layerx"/>
      <parameter name="default" type="color4" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecYZ_color4"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <image name="N_imgY_color4" type="color4">
      <parameter name="file" type="filename" interfacename="filey"/>
      <parameter name="layer" type="string" interfacename="layery"/>
      <parameter name="default" type="color4" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecXZ_color4"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <image name="N_imgZ_color4" type="color4">
      <parameter name="file" type="filename" interfacename="filez"/>
      <parameter name="layer" type="string" interfacename="layerz"/>
      <parameter name="default" type="color4" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecXY_color4"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <normalize name="N_norm_color4" type="vector3">
      <input name="in" type="vector3" interfacename="normal"/>
    </normalize>
    <dotproduct name="N_dotX_color4" type="float">
      <input name="in1" type="vector3" nodename="N_norm_color4"/>
      <input name="in2" type="vector3" value="1.0, 0.0, 0.0"/>
    </dotproduct>
    <dotproduct name="N_dotY_color4" type="float">
      <input name="in1" type="vector3" nodename="N_norm_color4"/>
      <input name="in2" type="vector3" value="0.0, 1.0, 0.0"/>
    </dotproduct>
    <dotproduct name="N_dotZ_color4" type="float">
      <input name="in1" type="vector3" nodename="N_norm_color4"/>
      <input name="in2" type="vector3" value="0.0, 0.0, 1.0"/>
    </dotproduct>
    <absval name="N_blendX_color4" type="float">
      <input name="in" type="float" nodename="N_dotX_color4"/>
    </absval>
    <absval name="N_blendY_color4" type="float">
      <input name="in" type="float" nodename="N_dotY_color4"/>
    </absval>
    <absval name="N_blendZ_color4" type="float">
      <input name="in" type="float" nodename="N_dotZ_color4"/>
    </absval>
    <multiply name="N_nX_color4" type="color4">
      <input name="in1" type="color4" nodename="N_imgX_color4"/>
      <input name="in2" type="float" nodename="N_blendX_color4"/>
    </multiply>
    <multiply name="N_nY_color4" type="color4">
      <input name="in1" type="color4" nodename="N_imgY_color4"/>
      <input name="in2" type="float" nodename="N_blendY_color4"/>
    </multiply>
    <multiply name="N_nZ_color4" type="color4">
      <input name="in1" type="color4" nodename="N_imgZ_color4"/>
      <input name="in2" type="float" nodename="N_blendZ_color4"/>
    </multiply>
    <add name="N_add1_color4" type="color4">
      <input name="in1" type="color4" nodename="N_nX_color4"/>
      <input name="in2" type="color4" nodename="N_nY_color4"/>
    </add>
    <add name="N_add2_color4" type="color4">
      <input name="in1" type="color4" nodename="N_add1_color4"/>
      <input name="in2" type="color4" nodename="N_nZ_color4"/>
    </add>
    <output name="N_out_color4" type="color4" nodename="N_add2_color4"/>
  </nodegraph>

  <nodegraph name="NG_triplanarprojection_vector2" nodedef="ND_triplanarprojection_vector2">
    <extract name="N_extX_vector2" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="0"/>
    </extract>
    <extract name="N_extY_vector2" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="1"/>
    </extract>
    <extract name="N_extZ_vector2" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="2"/>
    </extract>
    <combine name="N_vecYZ_vector2" type="vector2">
      <input name="in1" type="float" nodename="N_extY_vector2"/>
      <input name="in2" type="float" nodename="N_extZ_vector2"/>
    </combine>
    <combine name="N_vecXZ_vector2" type="vector2">
      <input name="in1" type="float" nodename="N_extX_vector2"/>
      <input name="in2" type="float" nodename="N_extZ_vector2"/>
    </combine>
    <combine name="N_vecXY_vector2" type="vector2">
      <input name="in1" type="float" nodename="N_extX_vector2"/>
      <input name="in2" type="float" nodename="N_extY_vector2"/>
    </combine>
    <image name="N_imgX_vector2" type="vector2">
      <parameter name="file" type="filename" interfacename="filex"/>
      <parameter name="layer" type="string" interfacename="layerx"/>
      <parameter name="default" type="vector2" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecYZ_vector2"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <image name="N_imgY_vector2" type="vector2">
      <parameter name="file" type="filename" interfacename="filey"/>
      <parameter name="layer" type="string" interfacename="layery"/>
      <parameter name="default" type="vector2" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecXZ_vector2"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <image name="N_imgZ_vector2" type="vector2">
      <parameter name="file" type="filename" interfacename="filez"/>
      <parameter name="layer" type="string" interfacename="layerz"/>
      <parameter name="default" type="vector2" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecXY_vector2"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <normalize name="N_norm_vector2" type="vector3">
      <input name="in" type="vector3" interfacename="normal"/>
    </normalize>
    <dotproduct name="N_dotX_vector2" type="float">
      <input name="in1" type="vector3" nodename="N_norm_vector2"/>
      <input name="in2" type="vector3" value="1.0, 0.0, 0.0"/>
    </dotproduct>
    <dotproduct name="N_dotY_vector2" type="float">
      <input name="in1" type="vector3" nodename="N_norm_vector2"/>
      <input name="in2" type="vector3" value="0.0, 1.0, 0.0"/>
    </dotproduct>
    <dotproduct name="N_dotZ_vector2" type="float">
      <input name="in1" type="vector3" nodename="N_norm_vector2"/>
      <input name="in2" type="vector3" value="0.0, 0.0, 1.0"/>
    </dotproduct>
    <absval name="N_blendX_vector2" type="float">
      <input name="in" type="float" nodename="N_dotX_vector2"/>
    </absval>
    <absval name="N_blendY_vector2" type="float">
      <input name="in" type="float" nodename="N_dotY_vector2"/>
    </absval>
    <absval name="N_blendZ_vector2" type="float">
      <input name="in" type="float" nodename="N_dotZ_vector2"/>
    </absval>
    <multiply name="N_nX_vector2" type="vector2">
      <input name="in1" type="vector2" nodename="N_imgX_vector2"/>
      <input name="in2" type="float" nodename="N_blendX_vector2"/>
    </multiply>
    <multiply name="N_nY_vector2" type="vector2">
      <input name="in1" type="vector2" nodename="N_imgY_vector2"/>
      <input name="in2" type="float" nodename="N_blendY_vector2"/>
    </multiply>
    <multiply name="N_nZ_vector2" type="vector2">
      <input name="in1" type="vector2" nodename="N_imgZ_vector2"/>
      <input name="in2" type="float" nodename="N_blendZ_vector2"/>
    </multiply>
    <add name="N_add1_vector2" type="vector2">
      <input name="in1" type="vector2" nodename="N_nX_vector2"/>
      <input name="in2" type="vector2" nodename="N_nY_vector2"/>
    </add>
    <add name="N_add2_vector2" type="vector2">
      <input name="in1" type="vector2" nodename="N_add1_vector2"/>
      <input name="in2" type="vector2" nodename="N_nZ_vector2"/>
    </add>
    <output name="N_out_vector2" type="vector2" nodename="N_add2_vector2"/>
  </nodegraph>

  <nodegraph name="NG_triplanarprojection_vector3" nodedef="ND_triplanarprojection_vector3">
    <extract name="N_extX_vector3" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="0"/>
    </extract>
    <extract name="N_extY_vector3" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="1"/>
    </extract>
    <extract name="N_extZ_vector3" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="2"/>
    </extract>
    <combine name="N_vecYZ_vector3" type="vector2">
      <input name="in1" type="float" nodename="N_extY_vector3"/>
      <input name="in2" type="float" nodename="N_extZ_vector3"/>
    </combine>
    <combine name="N_vecXZ_vector3" type="vector2">
      <input name="in1" type="float" nodename="N_extX_vector3"/>
      <input name="in2" type="float" nodename="N_extZ_vector3"/>
    </combine>
    <combine name="N_vecXY_vector3" type="vector2">
      <input name="in1" type="float" nodename="N_extX_vector3"/>
      <input name="in2" type="float" nodename="N_extY_vector3"/>
    </combine>
    <image name="N_imgX_vector3" type="vector3">
      <parameter name="file" type="filename" interfacename="filex"/>
      <parameter name="layer" type="string" interfacename="layerx"/>
      <parameter name="default" type="vector3" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecYZ_vector3"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <image name="N_imgY_vector3" type="vector3">
      <parameter name="file" type="filename" interfacename="filey"/>
      <parameter name="layer" type="string" interfacename="layery"/>
      <parameter name="default" type="vector3" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecXZ_vector3"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <image name="N_imgZ_vector3" type="vector3">
      <parameter name="file" type="filename" interfacename="filez"/>
      <parameter name="layer" type="string" interfacename="layerz"/>
      <parameter name="default" type="vector3" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecXY_vector3"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <normalize name="N_norm_vector3" type="vector3">
      <input name="in" type="vector3" interfacename="normal"/>
    </normalize>
    <dotproduct name="N_dotX_vector3" type="float">
      <input name="in1" type="vector3" nodename="N_norm_vector3"/>
      <input name="in2" type="vector3" value="1.0, 0.0, 0.0"/>
    </dotproduct>
    <dotproduct name="N_dotY_vector3" type="float">
      <input name="in1" type="vector3" nodename="N_norm_vector3"/>
      <input name="in2" type="vector3" value="0.0, 1.0, 0.0"/>
    </dotproduct>
    <dotproduct name="N_dotZ_vector3" type="float">
      <input name="in1" type="vector3" nodename="N_norm_vector3"/>
      <input name="in2" type="vector3" value="0.0, 0.0, 1.0"/>
    </dotproduct>
    <absval name="N_blendX_vector3" type="float">
      <input name="in" type="float" nodename="N_dotX_vector3"/>
    </absval>
    <absval name="N_blendY_vector3" type="float">
      <input name="in" type="float" nodename="N_dotY_vector3"/>
    </absval>
    <absval name="N_blendZ_vector3" type="float">
      <input name="in" type="float" nodename="N_dotZ_vector3"/>
    </absval>
    <multiply name="N_nX_vector3" type="vector3">
      <input name="in1" type="vector3" nodename="N_imgX_vector3"/>
      <input name="in2" type="float" nodename="N_blendX_vector3"/>
    </multiply>
    <multiply name="N_nY_vector3" type="vector3">
      <input name="in1" type="vector3" nodename="N_imgY_vector3"/>
      <input name="in2" type="float" nodename="N_blendY_vector3"/>
    </multiply>
    <multiply name="N_nZ_vector3" type="vector3">
      <input name="in1" type="vector3" nodename="N_imgZ_vector3"/>
      <input name="in2" type="float" nodename="N_blendZ_vector3"/>
    </multiply>
    <add name="N_add1_vector3" type="vector3">
      <input name="in1" type="vector3" nodename="N_nX_vector3"/>
      <input name="in2" type="vector3" nodename="N_nY_vector3"/>
    </add>
    <add name="N_add2_vector3" type="vector3">
      <input name="in1" type="vector3" nodename="N_add1_vector3"/>
      <input name="in2" type="vector3" nodename="N_nZ_vector3"/>
    </add>
    <output name="N_out_vector3" type="vector3" nodename="N_add2_vector3"/>
  </nodegraph>

  <nodegraph name="NG_triplanarprojection_vector4" nodedef="ND_triplanarprojection_vector4">
    <extract name="N_extX_vector4" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="0"/>
    </extract>
    <extract name="N_extY_vector4" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="1"/>
    </extract>
    <extract name="N_extZ_vector4" type="float">
      <input name="in" type="vector3" interfacename="position"/>
      <parameter name="index" type="integer" value="2"/>
    </extract>
    <combine name="N_vecYZ_vector4" type="vector2">
      <input name="in1" type="float" nodename="N_extY_vector4"/>
      <input name="in2" type="float" nodename="N_extZ_vector4"/>
    </combine>
    <combine name="N_vecXZ_vector4" type="vector2">
      <input name="in1" type="float" nodename="N_extX_vector4"/>
      <input name="in2" type="float" nodename="N_extZ_vector4"/>
    </combine>
    <combine name="N_vecXY_vector4" type="vector2">
      <input name="in1" type="float" nodename="N_extX_vector4"/>
      <input name="in2" type="float" nodename="N_extY_vector4"/>
    </combine>
    <image name="N_imgX_vector4" type="vector4">
      <parameter name="file" type="filename" interfacename="filex"/>
      <parameter name="layer" type="string" interfacename="layerx"/>
      <parameter name="default" type="vector4" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecYZ_vector4"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <image name="N_imgY_vector4" type="vector4">
      <parameter name="file" type="filename" interfacename="filey"/>
      <parameter name="layer" type="string" interfacename="layery"/>
      <parameter name="default" type="vector4" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecXZ_vector4"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <image name="N_imgZ_vector4" type="vector4">
      <parameter name="file" type="filename" interfacename="filez"/>
      <parameter name="layer" type="string" interfacename="layerz"/>
      <parameter name="default" type="vector4" interfacename="default"/>
      <input name="texcoord" type="vector2" nodename="N_vecXY_vector4"/>
      <parameter name="uaddressmode" type="string" value="periodic"/>
      <parameter name="vaddressmode" type="string" value="periodic"/>
      <parameter name="filtertype" type="string" interfacename="filtertype"/>
      <parameter name="framerange" type="string" interfacename="framerange"/>
      <parameter name="frameoffset" type="integer" interfacename="frameoffset"/>
      <parameter name="frameendaction" type="string" interfacename="frameendaction"/>
    </image>
    <normalize name="N_norm_vector4" type="vector3">
      <input name="in" type="vector3" interfacename="normal"/>
    </normalize>
    <dotproduct name="N_dotX_vector4" type="float">
      <input name="in1" type="vector3" nodename="N_norm_vector4"/>
      <input name="in2" type="vector3" value="1.0, 0.0, 0.0"/>
    </dotproduct>
    <dotproduct name="N_dotY_vector4" type="float">
      <input name="in1" type="vector3" nodename="N_norm_vector4"/>
      <input name="in2" type="vector3" value="0.0, 1.0, 0.0"/>
    </dotproduct>
    <dotproduct name="N_dotZ_vector4" type="float">
      <input name="in1" type="vector3" nodename="N_norm_vector4"/>
      <input name="in2" type="vector3" value="0.0, 0.0, 1.0"/>
    </dotproduct>
    <absval name="N_blendX_vector4" type="float">
      <input name="in" type="float" nodename="N_dotX_vector4"/>
    </absval>
    <absval name="N_blendY_vector4" type="float">
      <input name="in" type="float" nodename="N_dotY_vector4"/>
    </absval>
    <absval name="N_blendZ_vector4" type="float">
      <input name="in" type="float" nodename="N_dotZ_vector4"/>
    </absval>
    <multiply name="N_nX_vector4" type="vector4">
      <input name="in1" type="vector4" nodename="N_imgX_vector4"/>
      <input name="in2" type="float" nodename="N_blendX_vector4"/>
    </multiply>
    <multiply name="N_nY_vector4" type="vector4">
      <input name="in1" type="vector4" nodename="N_imgY_vector4"/>
      <input name="in2" type="float" nodename="N_blendY_vector4"/>
    </multiply>
    <multiply name="N_nZ_vector4" type="vector4">
      <input name="in1" type="vector4" nodename="N_imgZ_vector4"/>
      <input name="in2" type="float" nodename="N_blendZ_vector4"/>
    </multiply>
    <add name="N_add1_vector4" type="vector4">
      <input name="in1" type="vector4" nodename="N_nX_vector4"/>
      <input name="in2" type="vector4" nodename="N_nY_vector4"/>
    </add>
    <add name="N_add2_vector4" type="vector4">
      <input name="in1" type="vector4" nodename="N_add1_vector4"/>
      <input name="in2" type="vector4" nodename="N_nZ_vector4"/>
    </add>
    <output name="N_out_vector4" type="vector4" nodename="N_add2_vector4"/>
  </nodegraph>



  <!-- ======================================================================== -->
  <!-- Procedural nodes                                                         -->
  <!-- ======================================================================== -->

  <!--
    <ramp4>
    A 4-corner bilinear value ramp.
  -->
  <nodegraph name="NG_ramp4_float" nodedef="ND_ramp4_float">
    <clamp name="N_txclamp_float" type="vector2">
      <input name="in" type="vector2" interfacename="texcoord"/>
    </clamp>
    <extract name="N_s_float" type="float">
      <input name="in" type="vector2" nodename="N_txclamp_float"/>
      <parameter name="index" type="integer" value="0"/>
    </extract>
    <extract name="N_t_float" type="float">
      <input name="in" type="vector2" nodename="N_txclamp_float"/>
      <parameter name="index" type="integer" value="1"/>
    </extract>
    <mix name="N_mixtop_float" type="float">
      <input name="bg" type="float" interfacename="valuetl"/>
      <input name="fg" type="float" interfacename="valuetr"/>
      <input name="mix" type="float" nodename="N_s_float"/>
    </mix>
    <mix name="N_mixbot_float" type="float">
      <input name="bg" type="float" interfacename="valuebl"/>
      <input name="fg" type="float" interfacename="valuebr"/>
      <input name="mix" type="float" nodename="N_s_float"/>
    </mix>
    <mix name="N_mix_float" type="float">
      <input name="bg" type="float" nodename="N_mixtop_float"/>
      <input name="fg" type="float" nodename="N_mixbot_float"/>
      <input name="mix" type="float" nodename="N_t_float"/>
    </mix>
    <output name="N_out_float" type="float" nodename="N_mix_float"/>
  </nodegraph>

  <nodegraph name="NG_ramp4_color2" nodedef="ND_ramp4_color2">
    <clamp name="N_txclamp_color2" type="vector2">
      <input name="in" type="vector2" interfacename="texcoord"/>
    </clamp>
    <extract name="N_s_color2" type="float">
      <input name="in" type="vector2" nodename="N_txclamp_color2"/>
      <parameter name="index" type="integer" value="0"/>
    </extract>
    <extract name="N_t_color2" type="float">
      <input name="in" type="vector2" nodename="N_txclamp_color2"/>
      <parameter name="index" type="integer" value="1"/>
    </extract>
    <mix name="N_mixtop_color2" type="color2">
      <input name="bg" type="color2" interfacename="valuetl"/>
      <input name="fg" type="color2" interfacename="valuetr"/>
      <input name="mix" type="float" nodename="N_s_color2"/>
    </mix>
    <mix name="N_mixbot_color2" type="color2">
      <input name="bg" type="color2" interfacename="valuebl"/>
      <input name="fg" type="color2" interfacename="valuebr"/>
      <input name="mix" type="float" nodename="N_s_color2"/>
    </mix>
    <mix name="N_mix_color2" type="color2">
      <input name="bg" type="color2" nodename="N_mixtop_color2"/>
      <input name="fg" type="color2" nodename="N_mixbot_color2"/>
      <input name="mix" type="float" nodename="N_t_color2"/>
    </mix>
    <output name="N_out_color2" type="color2" nodename="N_mix_color2"/>
  </nodegraph>

  <nodegraph name="NG_ramp4_color3" nodedef="ND_ramp4_color3">
    <clamp name="N_txclamp_color3" type="vector2">
      <input name="in" type="vector2" interfacename="texcoord"/>
    </clamp>
    <extract name="N_s_color3" type="float">
      <input name="in" type="vector2" nodename="N_txclamp_color3"/>
      <parameter name="index" type="integer" value="0"/>
    </extract>
    <extract name="N_t_color3" type="float">
      <input name="in" type="vector2" nodename="N_txclamp_color3"/>
      <parameter name="index" type="integer" value="1"/>
    </extract>
    <mix name="N_mixtop_color3" type="color3">
      <input name="bg" type="color3" interfacename="valuetl"/>
      <input name="fg" type="color3" interfacename="valuetr"/>
      <input name="mix" type="float" nodename="N_s_color3"/>
    </mix>
    <mix name="N_mixbot_color3" type="color3">
      <input name="bg" type="color3" interfacename="valuebl"/>
      <input name="fg" type="color3" interfacename="valuebr"/>
      <input name="mix" type="float" nodename="N_s_color3"/>
    </mix>
    <mix name="N_mix_color3" type="color3">
      <input name="bg" type="color3" nodename="N_mixtop_color3"/>
      <input name="fg" type="color3" nodename="N_mixbot_color3"/>
      <input name="mix" type="float" nodename="N_t_color3"/>
    </mix>
    <output name="N_out_color3" type="color3" nodename="N_mix_color3"/>
  </nodegraph>

  <nodegraph name="NG_ramp4_color4" nodedef="ND_ramp4_color4">
    <clamp name="N_txclamp_color4" type="vector2">
      <input name="in" type="vector2" interfacename="texcoord"/>
    </clamp>
    <extract name="N_s_color4" type="float">
      <input name="in" type="vector2" nodename="N_txclamp_color4"/>
      <parameter name="index" type="integer" value="0"/>
    </extract>
    <extract name="N_t_color4" type="float">
      <input name="in" type="vector2" nodename="N_txclamp_color4"/>
      <parameter name="index" type="integer" value="1"/>
    </extract>
    <mix name="N_mixtop_color4" type="color4">
      <input name="bg" type="color4" interfacename="valuetl"/>
      <input name="fg" type="color4" interfacename="valuetr"/>
      <input name="mix" type="float" nodename="N_s_color4"/>
    </mix>
    <mix name="N_mixbot_color4" type="color4">
      <input name="bg" type="color4" interfacename="valuebl"/>
      <input name="fg" type="color4" interfacename="valuebr"/>
      <input name="mix" type="float" nodename="N_s_color4"/>
    </mix>
    <mix name="N_mix_color4" type="color4">
      <input name="bg" type="color4" nodename="N_mixtop_color4"/>
      <input name="fg" type="color4" nodename="N_mixbot_color4"/>
      <input name="mix" type="float" nodename="N_t_color4"/>
    </mix>
    <output name="N_out_color4" type="color4" nodename="N_mix_color4"/>
  </nodegraph>

  <nodegraph name="NG_ramp4_vector2" nodedef="ND_ramp4_vector2">
    <clamp name="N_txclamp_vector2" type="vector2">
      <input name="in" type="vector2" interfacename="texcoord"/>
    </clamp>
    <extract name="N_s_vector2" type="float">
      <input name="in" type="vector2" nodename="N_txclamp_vector2"/>
      <parameter name="index" type="integer" value="0"/>
    </extract>
    <extract name="N_t_vector2" type="float">
      <input name="in" type="vector2" nodename="N_txclamp_vector2"/>
      <parameter name="index" type="integer" value="1"/>
    </extract>
    <mix name="N_mixtop_vector2" type="vector2">
      <input name="bg" type="vector2" interfacename="valuetl"/>
      <input name="fg" type="vector2" interfacename="valuetr"/>
      <input name="mix" type="float" nodename="N_s_vector2"/>
    </mix>
    <mix name="N_mixbot_vector2" type="vector2">
      <input name="bg" type="vector2" interfacename="valuebl"/>
      <input name="fg" type="vector2" interfacename="valuebr"/>
      <input name="mix" type="float" nodename="N_s_vector2"/>
    </mix>
    <mix name="N_mix_vector2" type="vector2">
      <input name="bg" type="vector2" nodename="N_mixtop_vector2"/>
      <input name="fg" type="vector2" nodename="N_mixbot_vector2"/>
      <input name="mix" type="float" nodename="N_t_vector2"/>
    </mix>
    <output name="N_out_vector2" type="vector2" nodename="N_mix_vector2"/>
  </nodegraph>

  <nodegraph name="NG_ramp4_vector3" nodedef="ND_ramp4_vector3">
    <clamp name="N_txclamp_vector3" type="vector2">
      <input name="in" type="vector2" interfacename="texcoord"/>
    </clamp>
    <extract name="N_s_vector3" type="float">
      <input name="in" type="vector2" nodename="N_txclamp_vector3"/>
      <parameter name="index" type="integer" value="0"/>
    </extract>
    <extract name="N_t_vector3" type="float">
      <input name="in" type="vector2" nodename="N_txclamp_vector3"/>
      <parameter name="index" type="integer" value="1"/>
    </extract>
    <mix name="N_mixtop_vector3" type="vector3">
      <input name="bg" type="vector3" interfacename="valuetl"/>
      <input name="fg" type="vector3" interfacename="valuetr"/>
      <input name="mix" type="float" nodename="N_s_vector3"/>
    </mix>
    <mix name="N_mixbot_vector3" type="vector3">
      <input name="bg" type="vector3" interfacename="valuebl"/>
      <input name="fg" type="vector3" interfacename="valuebr"/>
      <input name="mix" type="float" nodename="N_s_vector3"/>
    </mix>
    <mix name="N_mix_vector3" type="vector3">
      <input name="bg" type="vector3" nodename="N_mixtop_vector3"/>
      <input name="fg" type="vector3" nodename="N_mixbot_vector3"/>
      <input name="mix" type="float" nodename="N_t_vector3"/>
    </mix>
    <output name="N_out_vector3" type="vector3" nodename="N_mix_vector3"/>
  </nodegraph>

  <nodegraph name="NG_ramp4_vector4" nodedef="ND_ramp4_vector4">
    <clamp name="N_txclamp_vector4" type="vector2">
      <input name="in" type="vector2" interfacename="texcoord"/>
    </clamp>
    <extract name="N_s_vector4" type="float">
      <input name="in" type="vector2" nodename="N_txclamp_vector4"/>
      <parameter name="index" type="integer" value="0"/>
    </extract>
    <extract name="N_t_vector4" type="float">
      <input name="in" type="vector2" nodename="N_txclamp_vector4"/>
      <parameter name="index" type="integer" value="1"/>
    </extract>
    <mix name="N_mixtop_vector4" type="vector4">
      <input name="bg" type="vector4" interfacename="valuetl"/>
      <input name="fg" type="vector4" interfacename="valuetr"/>
      <input name="mix" type="float" nodename="N_s_vector4"/>
    </mix>
    <mix name="N_mixbot_vector4" type="vector4">
      <input name="bg" type="vector4" interfacename="valuebl"/>
      <input name="fg" type="vector4" interfacename="valuebr"/>
      <input name="mix" type="float" nodename="N_s_vector4"/>
    </mix>
    <mix name="N_mix_vector4" type="vector4">
      <input name="bg" type="vector4" nodename="N_mixtop_vector4"/>
      <input name="fg" type="vector4" nodename="N_mixbot_vector4"/>
      <input name="mix" type="float" nodename="N_t_vector4"/>
    </mix>
    <output name="N_out_vector4" type="vector4" nodename="N_mix_vector4"/>
  </nodegraph>



  <!-- ======================================================================== -->
  <!-- Geometric nodes                                                          -->
  <!-- ======================================================================== -->


  <!-- ======================================================================== -->
  <!-- Global nodes                                                             -->
  <!-- ======================================================================== -->


  <!-- ======================================================================== -->
  <!-- Application nodes                                                        -->
  <!-- ======================================================================== -->


  <!-- ======================================================================== -->
  <!-- Math nodes                                                               -->
  <!-- ======================================================================== -->


  <!-- ======================================================================== -->
  <!-- Adjustment nodes                                                         -->
  <!-- ======================================================================== -->

  <!--
    Node: <contrast>
    Increase or decrease contrast of a float/color value using a linear slope multiplier.
  -->
  <nodegraph name="NG_contrast_float" nodedef="ND_contrast_float">
    <subtract name="N_sub_float" type="float">
      <input name="in1" type="float" interfacename="in"/>
      <input name="in2" type="float" interfacename="pivot"/>
    </subtract>
    <multiply name="N_mul_float" type="float">
      <input name="in1" type="float" nodename="N_sub_float"/>
      <input name="in2" type="float" interfacename="amount"/>
    </multiply>
    <add name="N_add_float" type="float">
      <input name="in1" type="float" nodename="N_mul_float"/>
      <input name="in2" type="float" interfacename="pivot"/>
    </add>
    <output name="N_out_float" type="float" nodename="N_add_float"/>
  </nodegraph>

  <nodegraph name="NG_contrast_color2" nodedef="ND_contrast_color2">
    <subtract name="N_sub_color2" type="color2">
      <input name="in1" type="color2" interfacename="in"/>
      <input name="in2" type="color2" interfacename="pivot"/>
    </subtract>
    <multiply name="N_mul_color2" type="color2">
      <input name="in1" type="color2" nodename="N_sub_color2"/>
      <input name="in2" type="color2" interfacename="amount"/>
    </multiply>
    <add name="N_add_color2" type="color2">
      <input name="in1" type="color2" nodename="N_mul_color2"/>
      <input name="in2" type="color2" interfacename="pivot"/>
    </add>
    <output name="N_out_color2" type="color2" nodename="N_add_color2"/>
  </nodegraph>

  <nodegraph name="NG_contrast_color3" nodedef="ND_contrast_color3">
    <subtract name="N_sub_color3" type="color3">
      <input name="in1" type="color3" interfacename="in"/>
      <input name="in2" type="color3" interfacename="pivot"/>
    </subtract>
    <multiply name="N_mul_color3" type="color3">
      <input name="in1" type="color3" nodename="N_sub_color3"/>
      <input name="in2" type="color3" interfacename="amount"/>
    </multiply>
    <add name="N_add_color3" type="color3">
      <input name="in1" type="color3" nodename="N_mul_color3"/>
      <input name="in2" type="color3" interfacename="pivot"/>
    </add>
    <output name="N_out_color3" type="color3" nodename="N_add_color3"/>
  </nodegraph>

  <nodegraph name="NG_contrast_color4" nodedef="ND_contrast_color4">
    <subtract name="N_sub_color4" type="color4">
      <input name="in1" type="color4" interfacename="in"/>
      <input name="in2" type="color4" interfacename="pivot"/>
    </subtract>
    <multiply name="N_mul_color4" type="color4">
      <input name="in1" type="color4" nodename="N_sub_color4"/>
      <input name="in2" type="color4" interfacename="amount"/>
    </multiply>
    <add name="N_add_color4" type="color4">
      <input name="in1" type="color4" nodename="N_mul_color4"/>
      <input name="in2" type="color4" interfacename="pivot"/>
    </add>
    <output name="N_out_color4" type="color4" nodename="N_add_color4"/>
  </nodegraph>

  <nodegraph name="NG_contrast_vector2" nodedef="ND_contrast_vector2">
    <subtract name="N_sub_vector2" type="vector2">
      <input name="in1" type="vector2" interfacename="in"/>
      <input name="in2" type="vector2" interfacename="pivot"/>
    </subtract>
    <multiply name="N_mul_vector2" type="vector2">
      <input name="in1" type="vector2" nodename="N_sub_vector2"/>
      <input name="in2" type="vector2" interfacename="amount"/>
    </multiply>
    <add name="N_add_vector2" type="vector2">
      <input name="in1" type="vector2" nodename="N_mul_vector2"/>
      <input name="in2" type="vector2" interfacename="pivot"/>
    </add>
    <output name="N_out_vector2" type="vector2" nodename="N_add_vector2"/>
  </nodegraph>

  <nodegraph name="NG_contrast_vector3" nodedef="ND_contrast_vector3">
    <subtract name="N_sub_vector3" type="vector3">
      <input name="in1" type="vector3" interfacename="in"/>
      <input name="in2" type="vector3" interfacename="pivot"/>
    </subtract>
    <multiply name="N_mul_vector3" type="vector3">
      <input name="in1" type="vector3" nodename="N_sub_vector3"/>
      <input name="in2" type="vector3" interfacename="amount"/>
    </multiply>
    <add name="N_add_vector3" type="vector3">
      <input name="in1" type="vector3" nodename="N_mul_vector3"/>
      <input name="in2" type="vector3" interfacename="pivot"/>
    </add>
    <output name="N_out_vector3" type="vector3" nodename="N_add_vector3"/>
  </nodegraph>

  <nodegraph name="NG_contrast_vector4" nodedef="ND_contrast_vector4">
    <subtract name="N_sub_vector4" type="vector4">
      <input name="in1" type="vector4" interfacename="in"/>
      <input name="in2" type="vector4" interfacename="pivot"/>
    </subtract>
    <multiply name="N_mul_vector4" type="vector4">
      <input name="in1" type="vector4" nodename="N_sub_vector4"/>
      <input name="in2" type="vector4" interfacename="amount"/>
    </multiply>
    <add name="N_add_vector4" type="vector4">
      <input name="in1" type="vector4" nodename="N_mul_vector4"/>
      <input name="in2" type="vector4" interfacename="pivot"/>
    </add>
    <output name="N_out_vector4" type="vector4" nodename="N_add_vector4"/>
  </nodegraph>

  <nodegraph name="NG_contrast_color2FA" nodedef="ND_contrast_color2FA">
    <subtract name="N_sub_color2FA" type="color2">
      <input name="in1" type="color2" interfacename="in"/>
      <input name="in2" type="float" interfacename="pivot"/>
    </subtract>
    <multiply name="N_mul_color2FA" type="color2">
      <input name="in1" type="color2" nodename="N_sub_color2FA"/>
      <input name="in2" type="float" interfacename="amount"/>
    </multiply>
    <add name="N_add_color2FA" type="color2">
      <input name="in1" type="color2" nodename="N_mul_color2FA"/>
      <input name="in2" type="float" interfacename="pivot"/>
    </add>
    <output name="N_out_color2FA" type="color2" nodename="N_add_color2FA"/>
  </nodegraph>

  <nodegraph name="NG_contrast_color3FA" nodedef="ND_contrast_color3FA">
    <subtract name="N_sub_color3FA" type="color3">
      <input name="in1" type="color3" interfacename="in"/>
      <input name="in2" type="float" interfacename="pivot"/>
    </subtract>
    <multiply name="N_mul_color3FA" type="color3">
      <input name="in1" type="color3" nodename="N_sub_color3FA"/>
      <input name="in2" type="float" interfacename="amount"/>
    </multiply>
    <add name="N_add_color3FA" type="color3">
      <input name="in1" type="color3" nodename="N_mul_color3FA"/>
      <input name="in2" type="float" interfacename="pivot"/>
    </add>
    <output name="N_out_color3FA" type="color3" nodename="N_add_color3FA"/>
  </nodegraph>

  <nodegraph name="NG_contrast_color4FA" nodedef="ND_contrast_color4FA">
    <subtract name="N_sub_color4FA" type="color4">
      <input name="in1" type="color4" interfacename="in"/>
      <input name="in2" type="float" interfacename="pivot"/>
    </subtract>
    <multiply name="N_mul_color4FA" type="color4">
      <input name="in1" type="color4" nodename="N_sub_color4FA"/>
      <input name="in2" type="float" interfacename="amount"/>
    </multiply>
    <add name="N_add_color4FA" type="color4">
      <input name="in1" type="color4" nodename="N_mul_color4FA"/>
      <input name="in2" type="float" interfacename="pivot"/>
    </add>
    <output name="N_out_color4FA" type="color4" nodename="N_add_color4FA"/>
  </nodegraph>

  <nodegraph name="NG_contrast_vector2FA" nodedef="ND_contrast_vector2FA">
    <subtract name="N_sub_vector2FA" type="vector2">
      <input name="in1" type="vector2" interfacename="in"/>
      <input name="in2" type="float" interfacename="pivot"/>
    </subtract>
    <multiply name="N_mul_vector2FA" type="vector2">
      <input name="in1" type="vector2" nodename="N_sub_vector2FA"/>
      <input name="in2" type="float" interfacename="amount"/>
    </multiply>
    <add name="N_add_vector2FA" type="vector2">
      <input name="in1" type="vector2" nodename="N_mul_vector2FA"/>
      <input name="in2" type="float" interfacename="pivot"/>
    </add>
    <output name="N_out_vector2FA" type="vector2" nodename="N_add_vector2FA"/>
  </nodegraph>

  <nodegraph name="NG_contrast_vector3FA" nodedef="ND_contrast_vector3FA">
    <subtract name="N_sub_vector3FA" type="vector3">
      <input name="in1" type="vector3" interfacename="in"/>
      <input name="in2" type="float" interfacename="pivot"/>
    </subtract>
    <multiply name="N_mul_vector3FA" type="vector3">
      <input name="in1" type="vector3" nodename="N_sub_vector3FA"/>
      <input name="in2" type="float" interfacename="amount"/>
    </multiply>
    <add name="N_add_vector3FA" type="vector3">
      <input name="in1" type="vector3" nodename="N_mul_vector3FA"/>
      <input name="in2" type="float" interfacename="pivot"/>
    </add>
    <output name="N_out_vector3FA" type="vector3" nodename="N_add_vector3FA"/>
  </nodegraph>

  <nodegraph name="NG_contrast_vector4FA" nodedef="ND_contrast_vector4FA">
    <subtract name="N_sub_vector4FA" type="vector4">
      <input name="in1" type="vector4" interfacename="in"/>
      <input name="in2" type="float" interfacename="pivot"/>
    </subtract>
    <multiply name="N_mul_vector4FA" type="vector4">
      <input name="in1" type="vector4" nodename="N_sub_vector4FA"/>
      <input name="in2" type="float" interfacename="amount"/>
    </multiply>
    <add name="N_add_vector4FA" type="vector4">
      <input name="in1" type="vector4" nodename="N_mul_vector4FA"/>
      <input name="in2" type="float" interfacename="pivot"/>
    </add>
    <output name="N_out_vector4FA" type="vector4" nodename="N_add_vector4FA"/>
  </nodegraph>


  <!--
    Node: <range>
    Remap a value from one range of float/color/vector values to another, optionally
    applying a gamma correction in the middle, and optionally clamping output values.
  -->
  <nodegraph name="NG_range_float" nodedef="ND_range_float">
    <remap name="N_remap1_float" type="float">
      <input name="in" type="float" interfacename="in"/>
      <parameter name="inlow" type="float" interfacename="inlow"/>
      <parameter name="inhigh" type="float" interfacename="inhigh"/>
      <parameter name="outlow" type="float" value="0.0"/>
      <parameter name="outhigh" type="float" value="1.0"/>
    </remap>
    <divide name="N_recip_float" type="float">
      <input name="in1" type="float" value="1.0"/>
      <input name="in2" type="float" interfacename="gamma"/>
    </divide>
    <absval name="N_abs_float" type="float">
      <input name="in" type="float" nodename="N_remap1_float"/>
    </absval>
    <power name="N_pow_float" type="float">
      <input name="in1" type="float" nodename="N_abs_float"/>
      <input name="in2" type="float" nodename="N_recip_float"/>
    </power>
    <sign name="N_sign_float" type="float">
      <input name="in" type="float" nodename="N_remap1_float"/>
    </sign>
    <multiply name="N_gamma_float" type="float">
      <input name="in1" type="float" nodename="N_pow_float"/>
      <input name="in2" type="float" nodename="N_sign_float"/>
    </multiply>
    <remap name="N_remap2_float" type="float">
      <input name="in" type="float" nodename="N_gamma_float"/>
      <parameter name="inlow" type="float" value="0.0"/>
      <parameter name="inhigh" type="float" value="1.0"/>
      <parameter name="outlow" type="float" interfacename="outlow"/>
      <parameter name="outhigh" type="float" interfacename="outhigh"/>
    </remap>
    <clamp name="N_clamp_float" type="float">
      <input name="in" type="float" nodename="N_remap2_float"/>
    </clamp>
    <switch name="N_switch_float" type="float">
      <input name="in1" type="float" nodename="N_remap2_float"/>
      <input name="in2" type="float" nodename="N_clamp_float"/>
      <parameter name="which" type="boolean" interfacename="doclamp"/>
    </switch>
    <output name="N_out_float" type="float" nodename="N_switch_float"/>
  </nodegraph>

  <nodegraph name="NG_range_color2" nodedef="ND_range_color2">
    <remap name="N_remap1_color2" type="color2">
      <input name="in" type="color2" interfacename="in"/>
      <parameter name="inlow" type="color2" interfacename="inlow"/>
      <parameter name="inhigh" type="color2" interfacename="inhigh"/>
      <parameter name="outlow" type="color2" value="0.0, 0.0"/>
      <parameter name="outhigh" type="color2" value="1.0, 1.0"/>
    </remap>
    <divide name="N_recip_color2" type="color2">
      <input name="in1" type="color2" value="1.0, 1.0"/>
      <input name="in2" type="color2" interfacename="gamma"/>
    </divide>
    <absval name="N_abs_color2" type="color2">
      <input name="in" type="color2" nodename="N_remap1_color2"/>
    </absval>
    <power name="N_pow_color2" type="color2">
      <input name="in1" type="color2" nodename="N_abs_color2"/>
      <input name="in2" type="color2" nodename="N_recip_color2"/>
    </power>
    <sign name="N_sign_color2" type="color2">
      <input name="in" type="color2" nodename="N_remap1_color2"/>
    </sign>
    <multiply name="N_gamma_color2" type="color2">
      <input name="in1" type="color2" nodename="N_pow_color2"/>
      <input name="in2" type="color2" nodename="N_sign_color2"/>
    </multiply>
    <remap name="N_remap2_color2" type="color2">
      <input name="in" type="color2" nodename="N_gamma_color2"/>
      <parameter name="inlow" type="color2" value="0.0, 0.0"/>
      <parameter name="inhigh" type="color2" value="1.0, 1.0"/>
      <parameter name="outlow" type="color2" interfacename="outlow"/>
      <parameter name="outhigh" type="color2" interfacename="outhigh"/>
    </remap>
    <clamp name="N_clamp_color2" type="color2">
      <input name="in" type="color2" nodename="N_remap2_color2"/>
    </clamp>
    <switch name="N_switch_color2" type="color2">
      <input name="in1" type="color2" nodename="N_remap2_color2"/>
      <input name="in2" type="color2" nodename="N_clamp_color2"/>
      <parameter name="which" type="boolean" interfacename="doclamp"/>
    </switch>
    <output name="N_out_color2" type="color2" nodename="N_switch_color2"/>
  </nodegraph>

  <nodegraph name="NG_range_color3" nodedef="ND_range_color3">
    <remap name="N_remap1_color3" type="color3">
      <input name="in" type="color3" interfacename="in"/>
      <parameter name="inlow" type="color3" interfacename="inlow"/>
      <parameter name="inhigh" type="color3" interfacename="inhigh"/>
      <parameter name="outlow" type="color3" value="0.0, 0.0, 0.0"/>
      <parameter name="outhigh" type="color3" value="1.0, 1.0, 1.0"/>
    </remap>
    <divide name="N_recip_color3" type="color3">
      <input name="in1" type="color3" value="1.0, 1.0, 1.0"/>
      <input name="in2" type="color3" interfacename="gamma"/>
    </divide>
    <absval name="N_abs_color3" type="color3">
      <input name="in" type="color3" nodename="N_remap1_color3"/>
    </absval>
    <power name="N_pow_color3" type="color3">
      <input name="in1" type="color3" nodename="N_abs_color3"/>
      <input name="in2" type="color3" nodename="N_recip_color3"/>
    </power>
    <sign name="N_sign_color3" type="color3">
      <input name="in" type="color3" nodename="N_remap1_color3"/>
    </sign>
    <multiply name="N_gamma_color3" type="color3">
      <input name="in1" type="color3" nodename="N_pow_color3"/>
      <input name="in2" type="color3" nodename="N_sign_color3"/>
    </multiply>
    <remap name="N_remap2_color3" type="color3">
      <input name="in" type="color3" nodename="N_gamma_color3"/>
      <parameter name="inlow" type="color3" value="0.0, 0.0, 0.0"/>
      <parameter name="inhigh" type="color3" value="1.0, 1.0, 1.0"/>
      <parameter name="outlow" type="color3" interfacename="outlow"/>
      <parameter name="outhigh" type="color3" interfacename="outhigh"/>
    </remap>
    <clamp name="N_clamp_color3" type="color3">
      <input name="in" type="color3" nodename="N_remap2_color3"/>
    </clamp>
    <switch name="N_switch_color3" type="color3">
      <input name="in1" type="color3" nodename="N_remap2_color3"/>
      <input name="in2" type="color3" nodename="N_clamp_color3"/>
      <parameter name="which" type="boolean" interfacename="doclamp"/>
    </switch>
    <output name="N_out_color3" type="color3" nodename="N_switch_color3"/>
  </nodegraph>

  <nodegraph name="NG_range_color4" nodedef="ND_range_color4">
    <remap name="N_remap1_color4" type="color4">
      <input name="in" type="color4" interfacename="in"/>
      <parameter name="inlow" type="color4" interfacename="inlow"/>
      <parameter name="inhigh" type="color4" interfacename="inhigh"/>
      <parameter name="outlow" type="color4" value="0.0, 0.0, 0.0, 0.0"/>
      <parameter name="outhigh" type="color4" value="1.0, 1.0, 1.0, 1.0"/>
    </remap>
    <divide name="N_recip_color4" type="color4">
      <input name="in1" type="color4" value="1.0, 1.0, 1.0, 1.0"/>
      <input name="in2" type="color4" interfacename="gamma"/>
    </divide>
    <absval name="N_abs_color4" type="color4">
      <input name="in" type="color4" nodename="N_remap1_color4"/>
    </absval>
    <power name="N_pow_color4" type="color4">
      <input name="in1" type="color4" nodename="N_abs_color4"/>
      <input name="in2" type="color4" nodename="N_recip_color4"/>
    </power>
    <sign name="N_sign_color4" type="color4">
      <input name="in" type="color4" nodename="N_remap1_color4"/>
    </sign>
    <multiply name="N_gamma_color4" type="color4">
      <input name="in1" type="color4" nodename="N_pow_color4"/>
      <input name="in2" type="color4" nodename="N_sign_color4"/>
    </multiply>
    <remap name="N_remap2_color4" type="color4">
      <input name="in" type="color4" nodename="N_gamma_color4"/>
      <parameter name="inlow" type="color4" value="0.0, 0.0, 0.0, 0.0"/>
      <parameter name="inhigh" type="color4" value="1.0, 1.0, 1.0, 1.0"/>
      <parameter name="outlow" type="color4" interfacename="outlow"/>
      <parameter name="outhigh" type="color4" interfacename="outhigh"/>
    </remap>
    <clamp name="N_clamp_color4" type="color4">
      <input name="in" type="color4" nodename="N_remap2_color4"/>
    </clamp>
    <switch name="N_switch_color4" type="color4">
      <input name="in1" type="color4" nodename="N_remap2_color4"/>
      <input name="in2" type="color4" nodename="N_clamp_color4"/>
      <parameter name="which" type="boolean" interfacename="doclamp"/>
    </switch>
    <output name="N_out_color4" type="color4" nodename="N_switch_color4"/>
  </nodegraph>

  <nodegraph name="NG_range_vector2" nodedef="ND_range_vector2">
    <remap name="N_remap1_vector2" type="vector2">
      <input name="in" type="vector2" interfacename="in"/>
      <parameter name="inlow" type="vector2" interfacename="inlow"/>
      <parameter name="inhigh" type="vector2" interfacename="inhigh"/>
      <parameter name="outlow" type="vector2" value="0.0, 0.0"/>
      <parameter name="outhigh" type="vector2" value="1.0, 1.0"/>
    </remap>
    <divide name="N_recip_vector2" type="vector2">
      <input name="in1" type="vector2" value="1.0, 1.0"/>
      <input name="in2" type="vector2" interfacename="gamma"/>
    </divide>
    <absval name="N_abs_vector2" type="vector2">
      <input name="in" type="vector2" nodename="N_remap1_vector2"/>
    </absval>
    <power name="N_pow_vector2" type="vector2">
      <input name="in1" type="vector2" nodename="N_abs_vector2"/>
      <input name="in2" type="vector2" nodename="N_recip_vector2"/>
    </power>
    <sign name="N_sign_vector2" type="vector2">
      <input name="in" type="vector2" nodename="N_remap1_vector2"/>
    </sign>
    <multiply name="N_gamma_vector2" type="vector2">
      <input name="in1" type="vector2" nodename="N_pow_vector2"/>
      <input name="in2" type="vector2" nodename="N_sign_vector2"/>
    </multiply>
    <remap name="N_remap2_vector2" type="vector2">
      <input name="in" type="vector2" nodename="N_gamma_vector2"/>
      <parameter name="inlow" type="vector2" value="0.0, 0.0"/>
      <parameter name="inhigh" type="vector2" value="1.0, 1.0"/>
      <parameter name="outlow" type="vector2" interfacename="outlow"/>
      <parameter name="outhigh" type="vector2" interfacename="outhigh"/>
    </remap>
    <clamp name="N_clamp_vector2" type="vector2">
      <input name="in" type="vector2" nodename="N_remap2_vector2"/>
    </clamp>
    <switch name="N_switch_vector2" type="vector2">
      <input name="in1" type="vector2" nodename="N_remap2_vector2"/>
      <input name="in2" type="vector2" nodename="N_clamp_vector2"/>
      <parameter name="which" type="boolean" interfacename="doclamp"/>
    </switch>
    <output name="N_out_vector2" type="vector2" nodename="N_switch_vector2"/>
  </nodegraph>

  <nodegraph name="NG_range_vector3" nodedef="ND_range_vector3">
    <remap name="N_remap1_vector3" type="vector3">
      <input name="in" type="vector3" interfacename="in"/>
      <parameter name="inlow" type="vector3" interfacename="inlow"/>
      <parameter name="inhigh" type="vector3" interfacename="inhigh"/>
      <parameter name="outlow" type="vector3" value="0.0, 0.0, 0.0"/>
      <parameter name="outhigh" type="vector3" value="1.0, 1.0, 1.0"/>
    </remap>
    <divide name="N_recip_vector3" type="vector3">
      <input name="in1" type="vector3" value="1.0, 1.0, 1.0"/>
      <input name="in2" type="vector3" interfacename="gamma"/>
    </divide>
    <absval name="N_abs_vector3" type="vector3">
      <input name="in" type="vector3" nodename="N_remap1_vector3"/>
    </absval>
    <power name="N_pow_vector3" type="vector3">
      <input name="in1" type="vector3" nodename="N_abs_vector3"/>
      <input name="in2" type="vector3" nodename="N_recip_vector3"/>
    </power>
    <sign name="N_sign_vector3" type="vector3">
      <input name="in" type="vector3" nodename="N_remap1_vector3"/>
    </sign>
    <multiply name="N_gamma_vector3" type="vector3">
      <input name="in1" type="vector3" nodename="N_pow_vector3"/>
      <input name="in2" type="vector3" nodename="N_sign_vector3"/>
    </multiply>
    <remap name="N_remap2_vector3" type="vector3">
      <input name="in" type="vector3" nodename="N_gamma_vector3"/>
      <parameter name="inlow" type="vector3" value="0.0, 0.0, 0.0"/>
      <parameter name="inhigh" type="vector3" value="1.0, 1.0, 1.0"/>
      <parameter name="outlow" type="vector3" interfacename="outlow"/>
      <parameter name="outhigh" type="vector3" interfacename="outhigh"/>
    </remap>
    <clamp name="N_clamp_vector3" type="vector3">
      <input name="in" type="vector3" nodename="N_remap2_vector3"/>
    </clamp>
    <switch name="N_switch_vector3" type="vector3">
      <input name="in1" type="vector3" nodename="N_remap2_vector3"/>
      <input name="in2" type="vector3" nodename="N_clamp_vector3"/>
      <parameter name="which" type="boolean" interfacename="doclamp"/>
    </switch>
    <output name="N_out_vector3" type="vector3" nodename="N_switch_vector3"/>
  </nodegraph>

  <nodegraph name="NG_range_vector4" nodedef="ND_range_vector4">
    <remap name="N_remap1_vector4" type="vector4">
      <input name="in" type="vector4" interfacename="in"/>
      <parameter name="inlow" type="vector4" interfacename="inlow"/>
      <parameter name="inhigh" type="vector4" interfacename="inhigh"/>
      <parameter name="outlow" type="vector4" value="0.0, 0.0, 0.0, 0.0"/>
      <parameter name="outhigh" type="vector4" value="1.0, 1.0, 1.0, 1.0"/>
    </remap>
    <divide name="N_recip_vector4" type="vector4">
      <input name="in1" type="vector4" value="1.0, 1.0, 1.0, 1.0"/>
      <input name="in2" type="vector4" interfacename="gamma"/>
    </divide>
    <absval name="N_abs_vector4" type="vector4">
      <input name="in" type="vector4" nodename="N_remap1_vector4"/>
    </absval>
    <power name="N_pow_vector4" type="vector4">
      <input name="in1" type="vector4" nodename="N_abs_vector4"/>
      <input name="in2" type="vector4" nodename="N_recip_vector4"/>
    </power>
    <sign name="N_sign_vector4" type="vector4">
      <input name="in" type="vector4" nodename="N_remap1_vector4"/>
    </sign>
    <multiply name="N_gamma_vector4" type="vector4">
      <input name="in1" type="vector4" nodename="N_pow_vector4"/>
      <input name="in2" type="vector4" nodename="N_sign_vector4"/>
    </multiply>
    <remap name="N_remap2_vector4" type="vector4">
      <input name="in" type="vector4" nodename="N_gamma_vector4"/>
      <parameter name="inlow" type="vector4" value="0.0, 0.0, 0.0, 0.0"/>
      <parameter name="inhigh" type="vector4" value="1.0, 1.0, 1.0, 1.0"/>
      <parameter name="outlow" type="vector4" interfacename="outlow"/>
      <parameter name="outhigh" type="vector4" interfacename="outhigh"/>
    </remap>
    <clamp name="N_clamp_vector4" type="vector4">
      <input name="in" type="vector4" nodename="N_remap2_vector4"/>
    </clamp>
    <switch name="N_switch_vector4" type="vector4">
      <input name="in1" type="vector4" nodename="N_remap2_vector4"/>
      <input name="in2" type="vector4" nodename="N_clamp_vector4"/>
      <parameter name="which" type="boolean" interfacename="doclamp"/>
    </switch>
    <output name="N_out_vector4" type="vector4" nodename="N_switch_vector4"/>
  </nodegraph>

  <nodegraph name="NG_range_color2FA" nodedef="ND_range_color2FA">
    <remap name="N_remap1_color2FA" type="color2">
      <input name="in" type="color2" interfacename="in"/>
      <parameter name="inlow" type="float" interfacename="inlow"/>
      <parameter name="inhigh" type="float" interfacename="inhigh"/>
      <parameter name="outlow" type="float" value="0.0"/>
      <parameter name="outhigh" type="float" value="1.0"/>
    </remap>
    <divide name="N_recip_color2FA" type="float">
      <input name="in1" type="float" value="1.0"/>
      <input name="in2" type="float" interfacename="gamma"/>
    </divide>
    <absval name="N_abs_color2FA" type="color2">
      <input name="in" type="color2" nodename="N_remap1_color2FA"/>
    </absval>
    <power name="N_pow_color2FA" type="color2">
      <input name="in1" type="color2" nodename="N_abs_color2FA"/>
      <input name="in2" type="float" nodename="N_recip_color2FA"/>
    </power>
    <sign name="N_sign_color2FA" type="color2">
      <input name="in" type="color2" nodename="N_remap1_color2FA"/>
    </sign>
    <multiply name="N_gamma_color2FA" type="color2">
      <input name="in1" type="color2" nodename="N_pow_color2FA"/>
      <input name="in2" type="color2" nodename="N_sign_color2FA"/>
    </multiply>
    <remap name="N_remap2_color2FA" type="color2">
      <input name="in" type="color2" nodename="N_gamma_color2FA"/>
      <parameter name="inlow" type="float" value="0.0"/>
      <parameter name="inhigh" type="float" value="1.0"/>
      <parameter name="outlow" type="float" interfacename="outlow"/>
      <parameter name="outhigh" type="float" interfacename="outhigh"/>
    </remap>
    <clamp name="N_clamp_color2FA" type="color2">
      <input name="in" type="color2" nodename="N_remap2_color2FA"/>
    </clamp>
    <switch name="N_switch_color2FA" type="color2">
      <input name="in1" type="color2" nodename="N_remap2_color2FA"/>
      <input name="in2" type="color2" nodename="N_clamp_color2FA"/>
      <parameter name="which" type="boolean" interfacename="doclamp"/>
    </switch>
    <output name="N_out_color2FA" type="color2" nodename="N_switch_color2FA"/>
  </nodegraph>

  <nodegraph name="NG_range_color3FA" nodedef="ND_range_color3FA">
    <remap name="N_remap1_color3FA" type="color3">
      <input name="in" type="color3" interfacename="in"/>
      <parameter name="inlow" type="float" interfacename="inlow"/>
      <parameter name="inhigh" type="float" interfacename="inhigh"/>
      <parameter name="outlow" type="float" value="0.0"/>
      <parameter name="outhigh" type="float" value="1.0"/>
    </remap>
    <divide name="N_recip_color3FA" type="float">
      <input name="in1" type="float" value="1.0"/>
      <input name="in2" type="float" interfacename="gamma"/>
    </divide>
    <absval name="N_abs_color3FA" type="color3">
      <input name="in" type="color3" nodename="N_remap1_color3FA"/>
    </absval>
    <power name="N_pow_color3FA" type="color3">
      <input name="in1" type="color3" nodename="N_abs_color3FA"/>
      <input name="in2" type="float" nodename="N_recip_color3FA"/>
    </power>
    <sign name="N_sign_color3FA" type="color3">
      <input name="in" type="color3" nodename="N_remap1_color3FA"/>
    </sign>
    <multiply name="N_gamma_color3FA" type="color3">
      <input name="in1" type="color3" nodename="N_pow_color3FA"/>
      <input name="in2" type="color3" nodename="N_sign_color3FA"/>
    </multiply>
    <remap name="N_remap2_color3FA" type="color3">
      <input name="in" type="color3" nodename="N_gamma_color3FA"/>
      <parameter name="inlow" type="float" value="0.0"/>
      <parameter name="inhigh" type="float" value="1.0"/>
      <parameter name="outlow" type="float" interfacename="outlow"/>
      <parameter name="outhigh" type="float" interfacename="outhigh"/>
    </remap>
    <clamp name="N_clamp_color3FA" type="color3">
      <input name="in" type="color3" nodename="N_remap2_color3FA"/>
    </clamp>
    <switch name="N_switch_color3FA" type="color3">
      <input name="in1" type="color3" nodename="N_remap2_color3FA"/>
      <input name="in2" type="color3" nodename="N_clamp_color3FA"/>
      <parameter name="which" type="boolean" interfacename="doclamp"/>
    </switch>
    <output name="N_out_color3FA" type="color3" nodename="N_switch_color3FA"/>
  </nodegraph>

  <nodegraph name="NG_range_color4FA" nodedef="ND_range_color4FA">
    <remap name="N_remap1_color4FA" type="color4">
      <input name="in" type="color4" interfacename="in"/>
      <parameter name="inlow" type="float" interfacename="inlow"/>
      <parameter name="inhigh" type="float" interfacename="inhigh"/>
      <parameter name="outlow" type="float" value="0.0"/>
      <parameter name="outhigh" type="float" value="1.0"/>
    </remap>
    <divide name="N_recip_color4FA" type="float">
      <input name="in1" type="float" value="1.0"/>
      <input name="in2" type="float" interfacename="gamma"/>
    </divide>
    <absval name="N_abs_color4FA" type="color4">
      <input name="in" type="color4" nodename="N_remap1_color4FA"/>
    </absval>
    <power name="N_pow_color4FA" type="color4">
      <input name="in1" type="color4" nodename="N_abs_color4FA"/>
      <input name="in2" type="float" nodename="N_recip_color4FA"/>
    </power>
    <sign name="N_sign_color4FA" type="color4">
      <input name="in" type="color4" nodename="N_remap1_color4FA"/>
    </sign>
    <multiply name="N_gamma_color4FA" type="color4">
      <input name="in1" type="color4" nodename="N_pow_color4FA"/>
      <input name="in2" type="color4" nodename="N_sign_color4FA"/>
    </multiply>
    <remap name="N_remap2_color4FA" type="color4">
      <input name="in" type="color4" nodename="N_gamma_color4FA"/>
      <parameter name="inlow" type="float" value="0.0"/>
      <parameter name="inhigh" type="float" value="1.0"/>
      <parameter name="outlow" type="float" interfacename="outlow"/>
      <parameter name="outhigh" type="float" interfacename="outhigh"/>
    </remap>
    <clamp name="N_clamp_color4FA" type="color4">
      <input name="in" type="color4" nodename="N_remap2_color4FA"/>
    </clamp>
    <switch name="N_switch_color4FA" type="color4">
      <input name="in1" type="color4" nodename="N_remap2_color4FA"/>
      <input name="in2" type="color4" nodename="N_clamp_color4FA"/>
      <parameter name="which" type="boolean" interfacename="doclamp"/>
    </switch>
    <output name="N_out_color4FA" type="color4" nodename="N_switch_color4FA"/>
  </nodegraph>

  <nodegraph name="NG_range_vector2FA" nodedef="ND_range_vector2FA">
    <remap name="N_remap1_vector2FA" type="vector2">
      <input name="in" type="vector2" interfacename="in"/>
      <parameter name="inlow" type="float" interfacename="inlow"/>
      <parameter name="inhigh" type="float" interfacename="inhigh"/>
      <parameter name="outlow" type="float" value="0.0"/>
      <parameter name="outhigh" type="float" value="1.0"/>
    </remap>
    <divide name="N_recip_vector2FA" type="float">
      <input name="in1" type="float" value="1.0"/>
      <input name="in2" type="float" interfacename="gamma"/>
    </divide>
    <absval name="N_abs_vector2FA" type="vector2">
      <input name="in" type="vector2" nodename="N_remap1_vector2FA"/>
    </absval>
    <power name="N_pow_vector2FA" type="vector2">
      <input name="in1" type="vector2" nodename="N_abs_vector2FA"/>
      <input name="in2" type="float" nodename="N_recip_vector2FA"/>
    </power>
    <sign name="N_sign_vector2FA" type="vector2">
      <input name="in" type="vector2" nodename="N_remap1_vector2FA"/>
    </sign>
    <multiply name="N_gamma_vector2FA" type="vector2">
      <input name="in1" type="vector2" nodename="N_pow_vector2FA"/>
      <input name="in2" type="vector2" nodename="N_sign_vector2FA"/>
    </multiply>
    <remap name="N_remap2_vector2FA" type="vector2">
      <input name="in" type="vector2" nodename="N_gamma_vector2FA"/>
      <parameter name="inlow" type="float" value="0.0"/>
      <parameter name="inhigh" type="float" value="1.0"/>
      <parameter name="outlow" type="float" interfacename="outlow"/>
      <parameter name="outhigh" type="float" interfacename="outhigh"/>
    </remap>
    <clamp name="N_clamp_vector2FA" type="vector2">
      <input name="in" type="vector2" nodename="N_remap2_vector2FA"/>
    </clamp>
    <switch name="N_switch_vector2FA" type="vector2">
      <input name="in1" type="vector2" nodename="N_remap2_vector2FA"/>
      <input name="in2" type="vector2" nodename="N_clamp_vector2FA"/>
      <parameter name="which" type="boolean" interfacename="doclamp"/>
    </switch>
    <output name="N_out_vector2FA" type="vector2" nodename="N_switch_vector2FA"/>
  </nodegraph>

  <nodegraph name="NG_range_vector3FA" nodedef="ND_range_vector3FA">
    <remap name="N_remap1_vector3FA" type="vector3">
      <input name="in" type="vector3" interfacename="in"/>
      <parameter name="inlow" type="float" interfacename="inlow"/>
      <parameter name="inhigh" type="float" interfacename="inhigh"/>
      <parameter name="outlow" type="float" value="0.0"/>
      <parameter name="outhigh" type="float" value="1.0"/>
    </remap>
    <divide name="N_recip_vector3FA" type="float">
      <input name="in1" type="float" value="1.0"/>
      <input name="in2" type="float" interfacename="gamma"/>
    </divide>
    <absval name="N_abs_vector3FA" type="vector3">
      <input name="in" type="vector3" nodename="N_remap1_vector3FA"/>
    </absval>
    <power name="N_pow_vector3FA" type="vector3">
      <input name="in1" type="vector3" nodename="N_abs_vector3FA"/>
      <input name="in2" type="float" nodename="N_recip_vector3FA"/>
    </power>
    <sign name="N_sign_vector3FA" type="vector3">
      <input name="in" type="vector3" nodename="N_remap1_vector3FA"/>
    </sign>
    <multiply name="N_gamma_vector3FA" type="vector3">
      <input name="in1" type="vector3" nodename="N_pow_vector3FA"/>
      <input name="in2" type="vector3" nodename="N_sign_vector3FA"/>
    </multiply>
    <remap name="N_remap2_vector3FA" type="vector3">
      <input name="in" type="vector3" nodename="N_gamma_vector3FA"/>
      <parameter name="inlow" type="float" value="0.0"/>
      <parameter name="inhigh" type="float" value="1.0"/>
      <parameter name="outlow" type="float" interfacename="outlow"/>
      <parameter name="outhigh" type="float" interfacename="outhigh"/>
    </remap>
    <clamp name="N_clamp_vector3FA" type="vector3">
      <input name="in" type="vector3" nodename="N_remap2_vector3FA"/>
    </clamp>
    <switch name="N_switch_vector3FA" type="vector3">
      <input name="in1" type="vector3" nodename="N_remap2_vector3FA"/>
      <input name="in2" type="vector3" nodename="N_clamp_vector3FA"/>
      <parameter name="which" type="boolean" interfacename="doclamp"/>
    </switch>
    <output name="N_out_vector3FA" type="vector3" nodename="N_switch_vector3FA"/>
  </nodegraph>

  <nodegraph name="NG_range_vector4FA" nodedef="ND_range_vector4FA">
    <remap name="N_remap1_vector4FA" type="vector4">
      <input name="in" type="vector4" interfacename="in"/>
      <parameter name="inlow" type="float" interfacename="inlow"/>
      <parameter name="inhigh" type="float" interfacename="inhigh"/>
      <parameter name="outlow" type="float" value="0.0"/>
      <parameter name="outhigh" type="float" value="1.0"/>
    </remap>
    <divide name="N_recip_vector4FA" type="float">
      <input name="in1" type="float" value="1.0"/>
      <input name="in2" type="float" interfacename="gamma"/>
    </divide>
    <absval name="N_abs_vector4FA" type="vector4">
      <input name="in" type="vector4" nodename="N_remap1_vector4FA"/>
    </absval>
    <power name="N_pow_vector4FA" type="vector4">
      <input name="in1" type="vector4" nodename="N_abs_vector4FA"/>
      <input name="in2" type="float" nodename="N_recip_vector4FA"/>
    </power>
    <sign name="N_sign_vector4FA" type="vector4">
      <input name="in" type="vector4" nodename="N_remap1_vector4FA"/>
    </sign>
    <multiply name="N_gamma_vector4FA" type="vector4">
      <input name="in1" type="vector4" nodename="N_pow_vector4FA"/>
      <input name="in2" type="vector4" nodename="N_sign_vector4FA"/>
    </multiply>
    <remap name="N_remap2_vector4FA" type="vector4">
      <input name="in" type="vector4" nodename="N_gamma_vector4FA"/>
      <parameter name="inlow" type="float" value="0.0"/>
      <parameter name="inhigh" type="float" value="1.0"/>
      <parameter name="outlow" type="float" interfacename="outlow"/>
      <parameter name="outhigh" type="float" interfacename="outhigh"/>
    </remap>
    <clamp name="N_clamp_vector4FA" type="vector4">
      <input name="in" type="vector4" nodename="N_remap2_vector4FA"/>
    </clamp>
    <switch name="N_switch_vector4FA" type="vector4">
      <input name="in1" type="vector4" nodename="N_remap2_vector4FA"/>
      <input name="in2" type="vector4" nodename="N_clamp_vector4FA"/>
      <parameter name="which" type="boolean" interfacename="doclamp"/>
    </switch>
    <output name="N_out_vector4FA" type="vector4" nodename="N_switch_vector4FA"/>
  </nodegraph>


  <!--
    Node: <hsvadjust>
    Adjust the hue, saturation and value of an RGB color by converting the input color
    to HSV, adding amount.x to the hue, multiplying the saturation by amount.y,
    multiplying the value by amount.z, then converting back to RGB.
  -->
  <nodegraph name="NG_hsvadjust_color3" nodedef="ND_hsvadjust_color3">
    <rgbtohsv name="N_inhsv_color3" type="color3">
      <input name="in" type="color3" interfacename="in"/>
    </rgbtohsv>
    <convert name="N_camount_color3" type="color3">
      <input name="in" type="vector3" interfacename="amount"/>
    </convert>
    <multiply name="N_hchans_color3" type="color3">
      <input name="in1" type="color3" nodename="N_camount_color3"/>
      <input name="in2" type="color3" value="1.0, 0.0, 0.0"/>
    </multiply>
    <multiply name="N_tmp1_color3" type="color3">
      <input name="in1" type="color3" nodename="N_camount_color3"/>
      <input name="in2" type="color3" value="0.0, 1.0, 1.0"/>
    </multiply>
    <add name="N_svchans_color3" type="color3">
      <input name="in1" type="color3" nodename="N_tmp1_color3"/>
      <input name="in2" type="color3" value="1.0, 0.0, 0.0"/>
    </add>
    <add name="N_tmp2_color3" type="color3">
      <input name="in1" type="color3" nodename="N_inhsv_color3"/>
      <input name="in2" type="color3" nodename="N_hchans_color3"/>
    </add>
    <multiply name="N_tmp3_color3" type="color3">
      <input name="in1" type="color3" nodename="N_tmp2_color3"/>
      <input name="in2" type="color3" nodename="N_svchans_color3"/>
    </multiply>
    <hsvtorgb name="N_torgb_color3" type="color3">
      <input name="in" type="color3" nodename="N_tmp3_color3"/>
    </hsvtorgb>
    <output name="N_out_color3" type="color3" nodename="N_torgb_color3"/>
  </nodegraph>

  <nodegraph name="NG_hsvadjust_color4" nodedef="ND_hsvadjust_color4">
    <rgbtohsv name="N_inhsv_color4" type="color4">
      <input name="in" type="color4" interfacename="in"/>
    </rgbtohsv>
    <convert name="N_camt_color3" type="color3">
      <input name="in" type="vector3" interfacename="amount"/>
    </convert>
    <convert name="N_camount_color4" type="color4">
      <input name="in" type="color3" nodename="N_camt_color3"/>
    </convert>
    <multiply name="N_hchans_color4" type="color4">
      <input name="in1" type="color4" nodename="N_camount_color4"/>
      <input name="in2" type="color4" value="1.0, 0.0, 0.0, 0.0"/>
    </multiply>
    <multiply name="N_tmp1_color4" type="color4">
      <input name="in1" type="color4" nodename="N_camount_color4"/>
      <input name="in2" type="color4" value="0.0, 1.0, 1.0, 0.0"/>
    </multiply>
    <add name="N_svchans_color4" type="color4">
      <input name="in1" type="color4" nodename="N_tmp1_color4"/>
      <input name="in2" type="color4" value="1.0, 0.0, 0.0, 1.0"/>
    </add>
    <add name="N_tmp2_color4" type="color4">
      <input name="in1" type="color4" nodename="N_inhsv_color4"/>
      <input name="in2" type="color4" nodename="N_hchans_color4"/>
    </add>
    <multiply name="N_tmp3_color4" type="color4">
      <input name="in1" type="color4" nodename="N_tmp2_color4"/>
      <input name="in2" type="color4" nodename="N_svchans_color4"/>
    </multiply>
    <hsvtorgb name="N_torgb_color4" type="color4">
      <input name="in" type="color4" nodename="N_tmp3_color4"/>
    </hsvtorgb>
    <output name="N_out_color4" type="color4" nodename="N_torgb_color4"/>
  </nodegraph>

  <!--
    Node: <saturate>
    Adjust the saturation of a color using a linear interpolation between the incoming
    color and the grayscale luminance of the input computed using the provided luma
    coefficients; the alpha channel will be unchanged if present.
  -->
  <nodegraph name="NG_saturate_color3" nodedef="ND_saturate_color3">
    <luminance name="N_gray_color3" type="color3">
      <input name="in" type="color3" interfacename="in"/>
      <parameter name="lumacoeffs" type="color3" interfacename="lumacoeffs"/>
    </luminance>
    <mix name="N_mix_color3" type="color3">
      <input name="bg" type="color3" nodename="N_gray_color3"/>
      <input name="fg" type="color3" interfacename="in"/>
      <input name="mix" type="float" interfacename="amount"/>
    </mix>
    <output name="N_out_color3" type="color3" nodename="N_mix_color3"/>
  </nodegraph>

  <nodegraph name="NG_saturate_color4" nodedef="ND_saturate_color4">
    <luminance name="N_gray_color4" type="color4">
      <input name="in" type="color4" interfacename="in"/>
      <parameter name="lumacoeffs" type="color3" interfacename="lumacoeffs"/>
    </luminance>
    <mix name="N_mix_color4" type="color4">
      <input name="bg" type="color4" nodename="N_gray_color4"/>
      <input name="fg" type="color4" interfacename="in"/>
      <input name="mix" type="float" interfacename="amount"/>
    </mix>
    <output name="N_out_color4" type="color4" nodename="N_mix_color4"/>
  </nodegraph>



  <!-- ======================================================================== -->
  <!-- Compositing nodes                                                        -->
  <!-- ======================================================================== -->


  <!-- ======================================================================== -->
  <!-- Conditional nodes                                                        -->
  <!-- ======================================================================== -->


  <!-- ======================================================================== -->
  <!-- Channel nodes                                                            -->
  <!-- ======================================================================== -->

  <!--
    Node: <extract>
    Extract a single channel from a colorN or vectorN stream, outputting a float.
  -->
  <nodegraph name="NG_extract_color2" nodedef="ND_extract_color2">
    <swizzle name="N_r_color2" type="float">
      <input name="in" type="color2" interfacename="in"/>
      <parameter name="channels" type="string" value="r"/>
    </swizzle>
    <swizzle name="N_a_color2" type="float">
      <input name="in" type="color2" interfacename="in"/>
      <parameter name="channels" type="string" value="a"/>
    </swizzle>
    <switch name="N_sw_color2" type="float">
      <input name="in1" type="float" nodename="N_r_color2"/>
      <input name="in2" type="float" nodename="N_a_color2"/>
      <parameter name="which" type="float" interfacename="index"/>
    </switch>
    <output name="N_out_color2" type="float" nodename="N_sw_color2"/>
  </nodegraph>

  <nodegraph name="NG_extract_vector2" nodedef="ND_extract_vector2">
    <swizzle name="N_r_vector2" type="float">
      <input name="in" type="vector2" interfacename="in"/>
      <parameter name="channels" type="string" value="x"/>
    </swizzle>
    <swizzle name="N_g_vector2" type="float">
      <input name="in" type="vector2" interfacename="in"/>
      <parameter name="channels" type="string" value="y"/>
    </swizzle>
    <switch name="N_sw_vector2" type="float">
      <input name="in1" type="float" nodename="N_r_vector2"/>
      <input name="in2" type="float" nodename="N_g_vector2"/>
      <parameter name="which" type="float" interfacename="index"/>
    </switch>
    <output name="N_out_vector2" type="float" nodename="N_sw_vector2"/>
  </nodegraph>

  <nodegraph name="NG_extract_color3" nodedef="ND_extract_color3">
    <swizzle name="N_r_color3" type="float">
      <input name="in" type="color3" interfacename="in"/>
      <parameter name="channels" type="string" value="r"/>
    </swizzle>
    <swizzle name="N_g_color3" type="float">
      <input name="in" type="color3" interfacename="in"/>
      <parameter name="channels" type="string" value="g"/>
    </swizzle>
    <swizzle name="N_b_color3" type="float">
      <input name="in" type="color3" interfacename="in"/>
      <parameter name="channels" type="string" value="b"/>
    </swizzle>
    <switch name="N_sw_color3" type="float">
      <input name="in1" type="float" nodename="N_r_color3"/>
      <input name="in2" type="float" nodename="N_g_color3"/>
      <input name="in3" type="float" nodename="N_b_color3"/>
      <parameter name="which" type="float" interfacename="index"/>
    </switch>
    <output name="N_out_color3" type="float" nodename="N_sw_color3"/>
  </nodegraph>

  <nodegraph name="NG_extract_vector3" nodedef="ND_extract_vector3">
    <swizzle name="N_r_vector3" type="float">
      <input name="in" type="vector3" interfacename="in"/>
      <parameter name="channels" type="string" value="x"/>
    </swizzle>
    <swizzle name="N_g_vector3" type="float">
      <input name="in" type="vector3" interfacename="in"/>
      <parameter name="channels" type="string" value="y"/>
    </swizzle>
    <swizzle name="N_b_vector3" type="float">
      <input name="in" type="vector3" interfacename="in"/>
      <parameter name="channels" type="string" value="z"/>
    </swizzle>
    <switch name="N_sw_vector3" type="float">
      <input name="in1" type="float" nodename="N_r_vector3"/>
      <input name="in2" type="float" nodename="N_g_vector3"/>
      <input name="in3" type="float" nodename="N_b_vector3"/>
      <parameter name="which" type="float" interfacename="index"/>
    </switch>
    <output name="N_out_vector3" type="float" nodename="N_sw_vector3"/>
  </nodegraph>

  <nodegraph name="NG_extract_color4" nodedef="ND_extract_color4">
    <swizzle name="N_r_color4" type="float">
      <input name="in" type="color4" interfacename="in"/>
      <parameter name="channels" type="string" value="r"/>
    </swizzle>
    <swizzle name="N_g_color4" type="float">
      <input name="in" type="color4" interfacename="in"/>
      <parameter name="channels" type="string" value="g"/>
    </swizzle>
    <swizzle name="N_b_color4" type="float">
      <input name="in" type="color4" interfacename="in"/>
      <parameter name="channels" type="string" value="b"/>
    </swizzle>
    <swizzle name="N_a_color4" type="float">
      <input name="in" type="color4" interfacename="in"/>
      <parameter name="channels" type="string" value="a"/>
    </swizzle>
    <switch name="N_sw_color4" type="float">
      <input name="in1" type="float" nodename="N_r_color4"/>
      <input name="in2" type="float" nodename="N_g_color4"/>
      <input name="in3" type="float" nodename="N_b_color4"/>
      <input name="in4" type="float" nodename="N_a_color4"/>
      <parameter name="which" type="float" interfacename="index"/>
    </switch>
    <output name="N_out_color4" type="float" nodename="N_sw_color4"/>
  </nodegraph>

  <nodegraph name="NG_extract_vector4" nodedef="ND_extract_vector4">
    <swizzle name="N_r_vector4" type="float">
      <input name="in" type="vector4" interfacename="in"/>
      <parameter name="channels" type="string" value="x"/>
    </swizzle>
    <swizzle name="N_g_vector4" type="float">
      <input name="in" type="vector4" interfacename="in"/>
      <parameter name="channels" type="string" value="y"/>
    </swizzle>
    <swizzle name="N_b_vector4" type="float">
      <input name="in" type="vector4" interfacename="in"/>
      <parameter name="channels" type="string" value="z"/>
    </swizzle>
    <swizzle name="N_a_vector4" type="float">
      <input name="in" type="vector4" interfacename="in"/>
      <parameter name="channels" type="string" value="w"/>
    </swizzle>
    <switch name="N_sw_vector4" type="float">
      <input name="in1" type="float" nodename="N_r_vector4"/>
      <input name="in2" type="float" nodename="N_g_vector4"/>
      <input name="in3" type="float" nodename="N_b_vector4"/>
      <input name="in4" type="float" nodename="N_a_vector4"/>
      <parameter name="which" type="float" interfacename="index"/>
    </switch>
    <output name="N_out_vector4" type="float" nodename="N_sw_vector4"/>
  </nodegraph>


  <!--
    Node: <separate>
    Output each of the channels of a color/vector stream as a separate float output.
  -->
  <nodegraph name="NG_separate_color2" nodedef="ND_separate_color2">
    <swizzle name="N_r_color2" type="float">
      <input name="in" type="color2" interfacename="in"/>
      <parameter name="channels" type="string" value="r"/>
    </swizzle>
    <swizzle name="N_a_color2" type="float">
      <input name="in" type="color2" interfacename="in"/>
      <parameter name="channels" type="string" value="a"/>
    </swizzle>
    <output name="outr" type="float" nodename="N_r_color2"/>
    <output name="outa" type="float" nodename="N_a_color2"/>
  </nodegraph>

  <nodegraph name="NG_separate_vector2" nodedef="ND_separate_vector2">
    <swizzle name="N_r_vector2" type="float">
      <input name="in" type="vector2" interfacename="in"/>
      <parameter name="channels" type="string" value="x"/>
    </swizzle>
    <swizzle name="N_g_vector2" type="float">
      <input name="in" type="vector2" interfacename="in"/>
      <parameter name="channels" type="string" value="y"/>
    </swizzle>
    <output name="outx" type="float" nodename="N_r_vector2"/>
    <output name="outy" type="float" nodename="N_g_vector2"/>
  </nodegraph>

  <nodegraph name="NG_separate_color3" nodedef="ND_separate_color3">
    <swizzle name="N_r_color3" type="float">
      <input name="in" type="color3" interfacename="in"/>
      <parameter name="channels" type="string" value="r"/>
    </swizzle>
    <swizzle name="N_g_color3" type="float">
      <input name="in" type="color3" interfacename="in"/>
      <parameter name="channels" type="string" value="g"/>
    </swizzle>
    <swizzle name="N_b_color3" type="float">
      <input name="in" type="color3" interfacename="in"/>
      <parameter name="channels" type="string" value="b"/>
    </swizzle>
    <output name="outr" type="float" nodename="N_r_color3"/>
    <output name="outg" type="float" nodename="N_g_color3"/>
    <output name="outb" type="float" nodename="N_b_color3"/>
  </nodegraph>

  <nodegraph name="NG_separate_vector3" nodedef="ND_separate_vector3">
    <swizzle name="N_r_vector3" type="float">
      <input name="in" type="vector3" interfacename="in"/>
      <parameter name="channels" type="string" value="x"/>
    </swizzle>
    <swizzle name="N_g_vector3" type="float">
      <input name="in" type="vector3" interfacename="in"/>
      <parameter name="channels" type="string" value="y"/>
    </swizzle>
    <swizzle name="N_b_vector3" type="float">
      <input name="in" type="vector3" interfacename="in"/>
      <parameter name="channels" type="string" value="z"/>
    </swizzle>
    <output name="outx" type="float" nodename="N_r_vector3"/>
    <output name="outy" type="float" nodename="N_g_vector3"/>
    <output name="outz" type="float" nodename="N_b_vector3"/>
  </nodegraph>

  <nodegraph name="NG_separate_color4" nodedef="ND_separate_color4">
    <swizzle name="N_r_color4" type="float">
      <input name="in" type="color4" interfacename="in"/>
      <parameter name="channels" type="string" value="r"/>
    </swizzle>
    <swizzle name="N_g_color4" type="float">
      <input name="in" type="color4" interfacename="in"/>
      <parameter name="channels" type="string" value="g"/>
    </swizzle>
    <swizzle name="N_b_color4" type="float">
      <input name="in" type="color4" interfacename="in"/>
      <parameter name="channels" type="string" value="b"/>
    </swizzle>
    <swizzle name="N_a_color4" type="float">
      <input name="in" type="color4" interfacename="in"/>
      <parameter name="channels" type="string" value="a"/>
    </swizzle>
    <output name="outr" type="float" nodename="N_r_color4"/>
    <output name="outg" type="float" nodename="N_g_color4"/>
    <output name="outb" type="float" nodename="N_b_color4"/>
    <output name="outa" type="float" nodename="N_a_color4"/>
  </nodegraph>

  <nodegraph name="NG_separate_vector4" nodedef="ND_separate_vector4">
    <swizzle name="N_r_vector4" type="float">
      <input name="in" type="vector4" interfacename="in"/>
      <parameter name="channels" type="string" value="x"/>
    </swizzle>
    <swizzle name="N_g_vector4" type="float">
      <input name="in" type="vector4" interfacename="in"/>
      <parameter name="channels" type="string" value="y"/>
    </swizzle>
    <swizzle name="N_b_vector4" type="float">
      <input name="in" type="vector4" interfacename="in"/>
      <parameter name="channels" type="string" value="z"/>
    </swizzle>
    <swizzle name="N_a_vector4" type="float">
      <input name="in" type="vector4" interfacename="in"/>
      <parameter name="channels" type="string" value="w"/>
    </swizzle>
    <output name="outx" type="float" nodename="N_r_vector4"/>
    <output name="outy" type="float" nodename="N_g_vector4"/>
    <output name="outz" type="float" nodename="N_b_vector4"/>
    <output name="outw" type="float" nodename="N_a_vector4"/>
  </nodegraph>


  <!-- ======================================================================== -->
  <!-- Convolution nodes                                                        -->
  <!-- ======================================================================== -->

</materialx>
